{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Navigate}from'react-router-dom';import{Spinner}from'@heroui/react';import{isAuthenticated}from'../config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const[isLoading,setIsLoading]=useState(true);useEffect(()=>{// 简单检查本地是否有token\nsetIsLoading(false);},[]);if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',flexDirection:'column',gap:'16px'},children:[/*#__PURE__*/_jsx(Spinner,{size:\"lg\",color:\"primary\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#6b7280',fontSize:'14px'},children:\"\\u9A8C\\u8BC1\\u767B\\u5F55\\u72B6\\u6001...\"})]});}if(!isAuthenticated()){return/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\",replace:true});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};export default ProtectedRoute;","map":{"version":3,"names":["React","useEffect","useState","Navigate","Spinner","isAuthenticated","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProtectedRoute","_ref","children","isLoading","setIsLoading","style","display","alignItems","justifyContent","minHeight","flexDirection","gap","size","color","fontSize","to","replace"],"sources":["/opt/dev/star_share/web/src/components/ProtectedRoute.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { Spinner } from '@heroui/react';\nimport { isAuthenticated } from '../config';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // 简单检查本地是否有token\n    setIsLoading(false);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div style={{ \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center', \n        minHeight: '100vh',\n        flexDirection: 'column',\n        gap: '16px'\n      }}>\n        <Spinner size=\"lg\" color=\"primary\" />\n        <div style={{ color: '#6b7280', fontSize: '14px' }}>验证登录状态...</div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated()) {\n    return <Navigate to=\"/admin/login\" replace />;\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,eAAe,CACvC,OAASC,eAAe,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAM5C,KAAM,CAAAC,cAA6C,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACjE,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAEhDD,SAAS,CAAC,IAAM,CACd;AACAe,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAID,SAAS,CAAE,CACb,mBACEN,KAAA,QAAKQ,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,SAAS,CAAE,OAAO,CAClBC,aAAa,CAAE,QAAQ,CACvBC,GAAG,CAAE,MACP,CAAE,CAAAT,QAAA,eACAP,IAAA,CAACH,OAAO,EAACoB,IAAI,CAAC,IAAI,CAACC,KAAK,CAAC,SAAS,CAAE,CAAC,cACrClB,IAAA,QAAKU,KAAK,CAAE,CAAEQ,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAZ,QAAA,CAAC,yCAAS,CAAK,CAAC,EAChE,CAAC,CAEV,CAEA,GAAI,CAACT,eAAe,CAAC,CAAC,CAAE,CACtB,mBAAOE,IAAA,CAACJ,QAAQ,EAACwB,EAAE,CAAC,cAAc,CAACC,OAAO,MAAE,CAAC,CAC/C,CAEA,mBAAOrB,IAAA,CAAAI,SAAA,EAAAG,QAAA,CAAGA,QAAQ,CAAG,CAAC,CACxB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
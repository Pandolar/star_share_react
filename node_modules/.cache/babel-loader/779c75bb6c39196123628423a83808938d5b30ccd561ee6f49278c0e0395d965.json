{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,CardBody,Button,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Input,Select,SelectItem,Table,TableHeader,TableColumn,TableBody,TableRow,TableCell,Chip,Avatar,useDisclosure,Pagination,Spinner,Badge}from'@heroui/react';import{Plus,Edit,Trash2,RefreshCw,User,Search,Mail,Phone,Calendar,UserCheck,UserX,Star,Eye,EyeOff}from'lucide-react';import{userApi}from'../../services/api';import{motion}from'framer-motion';import{showMessage}from'../../utils/toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminUsers=()=>{const[data,setData]=useState([]);const[filteredData,setFilteredData]=useState([]);const[loading,setLoading]=useState(false);const[editingRecord,setEditingRecord]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[selectedStatus,setSelectedStatus]=useState('all');const[selectedLevel,setSelectedLevel]=useState('all');const[currentPage,setCurrentPage]=useState(1);const[pageSize]=useState(10);const[showPassword,setShowPassword]=useState(false);const{isOpen,onOpen,onOpenChange}=useDisclosure();// 表单数据\nconst[formData,setFormData]=useState({username:'',email:'',phone:'',level:'1',status:'1',password:'',inviter_user:'',remarks:''});// 状态选项\nconst statuses=[{key:'all',label:'全部状态'},{key:'1',label:'正常'},{key:'0',label:'禁用'}];// 等级选项\nconst levels=[{key:'all',label:'全部等级'},{key:'1',label:'普通用户'},{key:'2',label:'VIP用户'},{key:'3',label:'超级VIP'},{key:'4',label:'白金用户'},{key:'5',label:'钻石用户'}];// 加载数据\nconst loadData=async()=>{setLoading(true);try{const result=await userApi.list({page:1,limit:100});const users=Array.isArray(result.data)?result.data:[];setData(users);setFilteredData(users);}catch(error){showMessage.error(error.message||'加载数据失败');setData([]);setFilteredData([]);}finally{setLoading(false);}};// 过滤数据\nuseEffect(()=>{let filtered=data;// 按搜索查询过滤\nif(searchQuery){filtered=filtered.filter(user=>user.username.toLowerCase().includes(searchQuery.toLowerCase())||user.email&&user.email.toLowerCase().includes(searchQuery.toLowerCase())||user.phone&&user.phone.includes(searchQuery));}// 按状态过滤\nif(selectedStatus!=='all'){filtered=filtered.filter(user=>String(user.status)===selectedStatus);}// 按等级过滤\nif(selectedLevel!=='all'){filtered=filtered.filter(user=>String(user.level)===selectedLevel);}setFilteredData(filtered);setCurrentPage(1);},[data,searchQuery,selectedStatus,selectedLevel]);useEffect(()=>{loadData();},[]);// 新增用户\nconst handleAdd=()=>{setEditingRecord(null);setFormData({username:'',email:'',phone:'',level:'1',status:'1',password:'',inviter_user:'',remarks:''});onOpen();};// 编辑用户\nconst handleEdit=record=>{setEditingRecord(record);setFormData({username:record.username,email:record.email||'',phone:record.phone||'',level:String(record.level||1),status:String(record.status||1),password:'',inviter_user:record.inviter_user||'',remarks:record.remarks||''});onOpen();};// 删除用户\nconst handleDelete=async(id,username)=>{if(!window.confirm(`确定删除用户 \"${username}\" 吗？`))return;try{await userApi.delete(id);showMessage.success('删除成功');loadData();}catch(error){showMessage.error(error.message||'删除失败');}};// 保存用户\nconst handleSave=async()=>{try{const saveData={...formData,level:parseInt(formData.level),status:parseInt(formData.status)};if(editingRecord){await userApi.update({id:editingRecord.id,...saveData});showMessage.success('更新成功');}else{await userApi.create(saveData);showMessage.success('创建成功');}onOpenChange();loadData();}catch(error){showMessage.error(error.message||'保存失败');}};const getLevelInfo=level=>{const levelMap={1:{label:'普通用户',color:'default',icon:'👤'},2:{label:'VIP用户',color:'primary',icon:'⭐'},3:{label:'超级VIP',color:'secondary',icon:'🌟'},4:{label:'白金用户',color:'warning',icon:'💎'},5:{label:'钻石用户',color:'danger',icon:'💍'}};return levelMap[level]||{label:`等级${level}`,color:'default',icon:'👤'};};const getUserAvatar=user=>{const levelInfo=getLevelInfo(user.level||1);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Avatar,{name:user.username.charAt(0).toUpperCase(),size:\"sm\",color:levelInfo.color,className:\"text-xs font-bold\"}),user.level&&user.level>1&&/*#__PURE__*/_jsx(Badge,{content:levelInfo.icon,size:\"sm\",className:\"absolute -top-1 -right-1 text-xs\",children:/*#__PURE__*/_jsx(\"span\",{})})]});};// 分页数据\nconst startIndex=(currentPage-1)*pageSize;const endIndex=startIndex+pageSize;const paginatedData=filteredData.slice(startIndex,endIndex);const totalPages=Math.ceil(filteredData.length/pageSize);const columns=[{name:\"用户信息\",uid:\"user_info\",sortable:true},{name:\"联系方式\",uid:\"contact\",sortable:true},{name:\"等级\",uid:\"level\",sortable:true},{name:\"状态\",uid:\"status\",sortable:true},{name:\"注册时间\",uid:\"created_at\",sortable:true},{name:\"最后登录\",uid:\"last_login\",sortable:true},{name:\"操作\",uid:\"actions\"}];const renderCell=(user,columnKey)=>{const cellValue=user[columnKey];const levelInfo=getLevelInfo(user.level||1);switch(columnKey){case\"user_info\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[getUserAvatar(user),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:user.username}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[\"ID: \",user.id]}),user.inviter_user&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600\",children:[\"\\u9080\\u8BF7\\u4EBA: \",user.inviter_user]})]})]});case\"contact\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-1\",children:[user.email&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-3 h-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:user.email})]}),user.phone&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Phone,{className:\"w-3 h-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:user.phone})]})]});case\"level\":return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2\",children:/*#__PURE__*/_jsxs(Chip,{size:\"sm\",color:levelInfo.color,variant:\"flat\",children:[levelInfo.icon,\" \",levelInfo.label]})});case\"status\":return/*#__PURE__*/_jsx(Chip,{size:\"sm\",color:user.status===1?'success':'danger',variant:\"flat\",startContent:user.status===1?/*#__PURE__*/_jsx(UserCheck,{className:\"w-3 h-3\"}):/*#__PURE__*/_jsx(UserX,{className:\"w-3 h-3\"}),children:user.status===1?'正常':'禁用'});case\"created_at\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-3 h-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:user.created_at?new Date(user.created_at).toLocaleDateString():'-'})]});case\"last_login\":return/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:user.last_login?new Date(user.last_login).toLocaleDateString():'未登录'});case\"actions\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"light\",color:\"primary\",onPress:()=>handleEdit(user),startContent:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"}),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"light\",color:\"danger\",onPress:()=>handleDelete(user.id,user.username),startContent:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),children:\"\\u5220\\u9664\"})]});default:return cellValue;}};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\",children:\"\\u7528\\u6237\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"\\u7BA1\\u7406\\u7CFB\\u7EDF\\u4E2D\\u7684\\u6240\\u6709\\u7528\\u6237\\u8D26\\u6237\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",startContent:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),onPress:loadData,isLoading:loading,children:\"\\u5237\\u65B0\\u6570\\u636E\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"shadow\",startContent:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),onPress:handleAdd,className:\"bg-gradient-to-r from-blue-500 to-purple-600\",children:\"\\u65B0\\u589E\\u7528\\u6237\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-blue-50 to-blue-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-blue-500 text-white\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u603B\\u7528\\u6237\\u6570\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.length})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-green-50 to-green-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-green-500 text-white\",children:/*#__PURE__*/_jsx(UserCheck,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u6B63\\u5E38\\u7528\\u6237\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.filter(u=>u.status===1).length})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-amber-50 to-amber-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-amber-500 text-white\",children:/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"VIP\\u7528\\u6237\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.filter(u=>(u.level||1)>=2).length})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-red-50 to-red-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-red-500 text-white\",children:/*#__PURE__*/_jsx(UserX,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u7981\\u7528\\u7528\\u6237\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.filter(u=>u.status===0).length})]})]})})})]}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-lg\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(Input,{placeholder:\"\\u641C\\u7D22\\u7528\\u6237\\u540D\\u3001\\u90AE\\u7BB1\\u6216\\u624B\\u673A\\u53F7...\",value:searchQuery,onValueChange:setSearchQuery,startContent:/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-gray-400\"}),className:\"flex-1\",variant:\"bordered\"}),/*#__PURE__*/_jsx(Select,{placeholder:\"\\u9009\\u62E9\\u72B6\\u6001\",value:selectedStatus,onSelectionChange:keys=>setSelectedStatus(Array.from(keys)[0]),className:\"w-full sm:w-40\",variant:\"bordered\",children:statuses.map(status=>/*#__PURE__*/_jsx(SelectItem,{children:status.label},status.key))}),/*#__PURE__*/_jsx(Select,{placeholder:\"\\u9009\\u62E9\\u7B49\\u7EA7\",value:selectedLevel,onSelectionChange:keys=>setSelectedLevel(Array.from(keys)[0]),className:\"w-full sm:w-40\",variant:\"bordered\",children:levels.map(level=>/*#__PURE__*/_jsx(SelectItem,{children:level.label},level.key))})]})})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-lg\",children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"\\u7528\\u6237\\u6570\\u636E\\u8868\\u683C\",isHeaderSticky:true,classNames:{wrapper:\"max-h-[600px]\"},bottomContent:totalPages>1?/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full justify-center\",children:/*#__PURE__*/_jsx(Pagination,{isCompact:true,showControls:true,showShadow:true,color:\"primary\",page:currentPage,total:totalPages,onChange:setCurrentPage})}):null,children:[/*#__PURE__*/_jsx(TableHeader,{columns:columns,children:column=>/*#__PURE__*/_jsx(TableColumn,{allowsSorting:column.sortable,children:column.name},column.uid)}),/*#__PURE__*/_jsx(TableBody,{items:paginatedData,loadingContent:/*#__PURE__*/_jsx(Spinner,{}),isLoading:loading,emptyContent:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(User,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u6682\\u65E0\\u7528\\u6237\\u6570\\u636E\"})]}),children:item=>/*#__PURE__*/_jsx(TableRow,{children:columnKey=>/*#__PURE__*/_jsx(TableCell,{children:renderCell(item,columnKey)})},item.id)})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onOpenChange:onOpenChange,size:\"3xl\",scrollBehavior:\"inside\",children:/*#__PURE__*/_jsx(ModalContent,{children:onClose=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ModalHeader,{className:\"flex flex-col gap-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:editingRecord?'编辑用户':'新增用户'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:editingRecord?'修改用户信息':'创建新的用户账户'})]}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u7528\\u6237\\u540D\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",value:formData.username,onChange:e=>setFormData({...formData,username:e.target.value}),startContent:/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-gray-400\"}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsx(Input,{label:\"\\u90AE\\u7BB1\\u5730\\u5740\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u90AE\\u7BB1\\u5730\\u5740\",type:\"email\",value:formData.email,onChange:e=>setFormData({...formData,email:e.target.value}),startContent:/*#__PURE__*/_jsx(Mail,{className:\"w-4 h-4 text-gray-400\"}),variant:\"bordered\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u624B\\u673A\\u53F7\\u7801\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\",value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),startContent:/*#__PURE__*/_jsx(Phone,{className:\"w-4 h-4 text-gray-400\"}),variant:\"bordered\"}),/*#__PURE__*/_jsx(Input,{label:\"\\u9080\\u8BF7\\u4EBA\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9080\\u8BF7\\u4EBA\\u7528\\u6237\\u540D\",value:formData.inviter_user,onChange:e=>setFormData({...formData,inviter_user:e.target.value}),variant:\"bordered\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Select,{label:\"\\u7528\\u6237\\u7B49\\u7EA7\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u7528\\u6237\\u7B49\\u7EA7\",selectedKeys:[formData.level],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,level:value});},variant:\"bordered\",children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u666E\\u901A\\u7528\\u6237\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"VIP\\u7528\\u6237\"},\"2\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u8D85\\u7EA7VIP\"},\"3\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u767D\\u91D1\\u7528\\u6237\"},\"4\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u94BB\\u77F3\\u7528\\u6237\"},\"5\")]}),/*#__PURE__*/_jsxs(Select,{label:\"\\u8D26\\u6237\\u72B6\\u6001\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u8D26\\u6237\\u72B6\\u6001\",selectedKeys:[formData.status],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,status:value});},variant:\"bordered\",children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u6B63\\u5E38\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u7981\\u7528\"},\"0\")]})]}),!editingRecord&&/*#__PURE__*/_jsx(Input,{label:\"\\u767B\\u5F55\\u5BC6\\u7801\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u767B\\u5F55\\u5BC6\\u7801\",type:showPassword?\"text\":\"password\",value:formData.password,onChange:e=>setFormData({...formData,password:e.target.value}),endContent:/*#__PURE__*/_jsx(\"button\",{className:\"focus:outline-none\",type:\"button\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"w-4 h-4 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 text-gray-400\"})}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsx(Input,{label:\"\\u5907\\u6CE8\\u4FE1\\u606F\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\\u4FE1\\u606F...\",value:formData.remarks,onChange:e=>setFormData({...formData,remarks:e.target.value}),variant:\"bordered\"})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",onPress:onClose,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onPress:handleSave,className:\"bg-gradient-to-r from-blue-500 to-purple-600\",children:\"\\u4FDD\\u5B58\"})]})]})})})]});};export default AdminUsers;","map":{"version":3,"names":["React","useState","useEffect","Card","CardBody","Button","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Input","Select","SelectItem","Table","TableHeader","TableColumn","TableBody","TableRow","TableCell","Chip","Avatar","useDisclosure","Pagination","Spinner","Badge","Plus","Edit","Trash2","RefreshCw","User","Search","Mail","Phone","Calendar","UserCheck","UserX","Star","Eye","EyeOff","userApi","motion","showMessage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminUsers","data","setData","filteredData","setFilteredData","loading","setLoading","editingRecord","setEditingRecord","searchQuery","setSearchQuery","selectedStatus","setSelectedStatus","selectedLevel","setSelectedLevel","currentPage","setCurrentPage","pageSize","showPassword","setShowPassword","isOpen","onOpen","onOpenChange","formData","setFormData","username","email","phone","level","status","password","inviter_user","remarks","statuses","key","label","levels","loadData","result","list","page","limit","users","Array","isArray","error","message","filtered","filter","user","toLowerCase","includes","String","handleAdd","handleEdit","record","handleDelete","id","window","confirm","delete","success","handleSave","saveData","parseInt","update","create","getLevelInfo","levelMap","color","icon","getUserAvatar","levelInfo","className","children","name","charAt","toUpperCase","size","content","startIndex","endIndex","paginatedData","slice","totalPages","Math","ceil","length","columns","uid","sortable","renderCell","columnKey","cellValue","variant","startContent","created_at","Date","toLocaleDateString","last_login","onPress","div","initial","opacity","y","animate","transition","duration","isLoading","u","placeholder","value","onValueChange","onSelectionChange","keys","from","map","isHeaderSticky","classNames","wrapper","bottomContent","isCompact","showControls","showShadow","total","onChange","column","allowsSorting","items","loadingContent","emptyContent","item","scrollBehavior","onClose","e","target","isRequired","type","selectedKeys","endContent","onClick"],"sources":["/opt/dev/star_share/web/src/pages/admin/AdminUsers.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Button,\n  Modal,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Input,\n  Select,\n  SelectItem,\n  Table,\n  TableHeader,\n  TableColumn,\n  TableBody,\n  TableRow,\n  TableCell,\n  Chip,\n  Avatar,\n  useDisclosure,\n  Pagination,\n  Spinner,\n  Badge\n} from '@heroui/react';\nimport {\n  Plus,\n  Edit,\n  Trash2,\n  RefreshCw,\n  User,\n  Search,\n  Mail,\n  Phone,\n  Calendar,\n  Shield,\n  UserCheck,\n  UserX,\n  Star,\n  Eye,\n  EyeOff\n} from 'lucide-react';\nimport { userApi } from '../../services/api';\nimport { motion } from 'framer-motion';\nimport { showMessage } from '../../utils/toast';\n\ninterface User {\n  id: number;\n  username: string;\n  email?: string;\n  phone?: string;\n  status?: number;\n  level?: number;\n  created_at?: string;\n  updated_at?: string;\n  last_login?: string;\n  inviter_user?: string;\n  remarks?: string;\n  preferences?: string;\n}\n\nconst AdminUsers: React.FC = () => {\n  const [data, setData] = useState<User[]>([]);\n  const [filteredData, setFilteredData] = useState<User[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [editingRecord, setEditingRecord] = useState<User | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedStatus, setSelectedStatus] = useState<string>('all');\n  const [selectedLevel, setSelectedLevel] = useState<string>('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [showPassword, setShowPassword] = useState(false);\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\n\n  // 表单数据\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    phone: '',\n    level: '1',\n    status: '1',\n    password: '',\n    inviter_user: '',\n    remarks: ''\n  });\n\n  // 状态选项\n  const statuses = [\n    { key: 'all', label: '全部状态' },\n    { key: '1', label: '正常' },\n    { key: '0', label: '禁用' },\n  ];\n\n  // 等级选项\n  const levels = [\n    { key: 'all', label: '全部等级' },\n    { key: '1', label: '普通用户' },\n    { key: '2', label: 'VIP用户' },\n    { key: '3', label: '超级VIP' },\n    { key: '4', label: '白金用户' },\n    { key: '5', label: '钻石用户' },\n  ];\n\n  // 加载数据\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const result = await userApi.list({\n        page: 1,\n        limit: 100,\n      });\n\n      const users = Array.isArray(result.data) ? result.data : [];\n      setData(users);\n      setFilteredData(users);\n    } catch (error: any) {\n      showMessage.error(error.message || '加载数据失败');\n      setData([]);\n      setFilteredData([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 过滤数据\n  useEffect(() => {\n    let filtered = data;\n\n    // 按搜索查询过滤\n    if (searchQuery) {\n      filtered = filtered.filter(user =>\n        user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (user.email && user.email.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        (user.phone && user.phone.includes(searchQuery))\n      );\n    }\n\n    // 按状态过滤\n    if (selectedStatus !== 'all') {\n      filtered = filtered.filter(user => String(user.status) === selectedStatus);\n    }\n\n    // 按等级过滤\n    if (selectedLevel !== 'all') {\n      filtered = filtered.filter(user => String(user.level) === selectedLevel);\n    }\n\n    setFilteredData(filtered);\n    setCurrentPage(1);\n  }, [data, searchQuery, selectedStatus, selectedLevel]);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // 新增用户\n  const handleAdd = () => {\n    setEditingRecord(null);\n    setFormData({\n      username: '',\n      email: '',\n      phone: '',\n      level: '1',\n      status: '1',\n      password: '',\n      inviter_user: '',\n      remarks: ''\n    });\n    onOpen();\n  };\n\n  // 编辑用户\n  const handleEdit = (record: User) => {\n    setEditingRecord(record);\n    setFormData({\n      username: record.username,\n      email: record.email || '',\n      phone: record.phone || '',\n      level: String(record.level || 1),\n      status: String(record.status || 1),\n      password: '',\n      inviter_user: record.inviter_user || '',\n      remarks: record.remarks || ''\n    });\n    onOpen();\n  };\n\n  // 删除用户\n  const handleDelete = async (id: number, username: string) => {\n    if (!window.confirm(`确定删除用户 \"${username}\" 吗？`)) return;\n\n    try {\n      await userApi.delete(id);\n      showMessage.success('删除成功');\n      loadData();\n    } catch (error: any) {\n      showMessage.error(error.message || '删除失败');\n    }\n  };\n\n  // 保存用户\n  const handleSave = async () => {\n    try {\n      const saveData = {\n        ...formData,\n        level: parseInt(formData.level),\n        status: parseInt(formData.status)\n      };\n\n      if (editingRecord) {\n        await userApi.update({ id: editingRecord.id, ...saveData });\n        showMessage.success('更新成功');\n      } else {\n        await userApi.create(saveData);\n        showMessage.success('创建成功');\n      }\n\n      onOpenChange();\n      loadData();\n    } catch (error: any) {\n      showMessage.error(error.message || '保存失败');\n    }\n  };\n\n  const getLevelInfo = (level: number) => {\n    const levelMap: { [key: number]: { label: string, color: any, icon: string } } = {\n      1: { label: '普通用户', color: 'default', icon: '👤' },\n      2: { label: 'VIP用户', color: 'primary', icon: '⭐' },\n      3: { label: '超级VIP', color: 'secondary', icon: '🌟' },\n      4: { label: '白金用户', color: 'warning', icon: '💎' },\n      5: { label: '钻石用户', color: 'danger', icon: '💍' },\n    };\n    return levelMap[level] || { label: `等级${level}`, color: 'default', icon: '👤' };\n  };\n\n  const getUserAvatar = (user: User) => {\n    const levelInfo = getLevelInfo(user.level || 1);\n    return (\n      <div className=\"relative\">\n        <Avatar\n          name={user.username.charAt(0).toUpperCase()}\n          size=\"sm\"\n          color={levelInfo.color}\n          className=\"text-xs font-bold\"\n        />\n        {user.level && user.level > 1 && (\n          <Badge\n            content={levelInfo.icon}\n            size=\"sm\"\n            className=\"absolute -top-1 -right-1 text-xs\"\n          >\n            <span></span>\n          </Badge>\n        )}\n      </div>\n    );\n  };\n\n  // 分页数据\n  const startIndex = (currentPage - 1) * pageSize;\n  const endIndex = startIndex + pageSize;\n  const paginatedData = filteredData.slice(startIndex, endIndex);\n  const totalPages = Math.ceil(filteredData.length / pageSize);\n\n  const columns = [\n    { name: \"用户信息\", uid: \"user_info\", sortable: true },\n    { name: \"联系方式\", uid: \"contact\", sortable: true },\n    { name: \"等级\", uid: \"level\", sortable: true },\n    { name: \"状态\", uid: \"status\", sortable: true },\n    { name: \"注册时间\", uid: \"created_at\", sortable: true },\n    { name: \"最后登录\", uid: \"last_login\", sortable: true },\n    { name: \"操作\", uid: \"actions\" },\n  ];\n\n  const renderCell = (user: User, columnKey: React.Key) => {\n    const cellValue = user[columnKey as keyof User];\n    const levelInfo = getLevelInfo(user.level || 1);\n\n    switch (columnKey) {\n      case \"user_info\":\n        return (\n          <div className=\"flex items-center gap-3\">\n            {getUserAvatar(user)}\n            <div className=\"flex flex-col\">\n              <p className=\"text-sm font-semibold text-gray-900\">{user.username}</p>\n              <p className=\"text-xs text-gray-500\">ID: {user.id}</p>\n              {user.inviter_user && (\n                <p className=\"text-xs text-blue-600\">邀请人: {user.inviter_user}</p>\n              )}\n            </div>\n          </div>\n        );\n      case \"contact\":\n        return (\n          <div className=\"flex flex-col gap-1\">\n            {user.email && (\n              <div className=\"flex items-center gap-1\">\n                <Mail className=\"w-3 h-3 text-gray-400\" />\n                <span className=\"text-xs text-gray-600\">{user.email}</span>\n              </div>\n            )}\n            {user.phone && (\n              <div className=\"flex items-center gap-1\">\n                <Phone className=\"w-3 h-3 text-gray-400\" />\n                <span className=\"text-xs text-gray-600\">{user.phone}</span>\n              </div>\n            )}\n          </div>\n        );\n      case \"level\":\n        return (\n          <div className=\"flex items-center gap-2\">\n            <Chip size=\"sm\" color={levelInfo.color} variant=\"flat\">\n              {levelInfo.icon} {levelInfo.label}\n            </Chip>\n          </div>\n        );\n      case \"status\":\n        return (\n          <Chip\n            size=\"sm\"\n            color={user.status === 1 ? 'success' : 'danger'}\n            variant=\"flat\"\n            startContent={user.status === 1 ? <UserCheck className=\"w-3 h-3\" /> : <UserX className=\"w-3 h-3\" />}\n          >\n            {user.status === 1 ? '正常' : '禁用'}\n          </Chip>\n        );\n      case \"created_at\":\n        return (\n          <div className=\"flex items-center gap-1\">\n            <Calendar className=\"w-3 h-3 text-gray-400\" />\n            <span className=\"text-xs text-gray-500\">\n              {user.created_at ? new Date(user.created_at).toLocaleDateString() : '-'}\n            </span>\n          </div>\n        );\n      case \"last_login\":\n        return (\n          <span className=\"text-xs text-gray-500\">\n            {user.last_login ? new Date(user.last_login).toLocaleDateString() : '未登录'}\n          </span>\n        );\n      case \"actions\":\n        return (\n          <div className=\"flex items-center gap-2\">\n            <Button\n              size=\"sm\"\n              variant=\"light\"\n              color=\"primary\"\n              onPress={() => handleEdit(user)}\n              startContent={<Edit className=\"w-4 h-4\" />}\n            >\n              编辑\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"light\"\n              color=\"danger\"\n              onPress={() => handleDelete(user.id, user.username)}\n              startContent={<Trash2 className=\"w-4 h-4\" />}\n            >\n              删除\n            </Button>\n          </div>\n        );\n      default:\n        return cellValue;\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className=\"space-y-6\"\n    >\n      {/* 页面标题 */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\n            用户管理\n          </h1>\n          <p className=\"text-gray-600 mt-1\">管理系统中的所有用户账户</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"flat\"\n            startContent={<RefreshCw className=\"w-4 h-4\" />}\n            onPress={loadData}\n            isLoading={loading}\n          >\n            刷新数据\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"shadow\"\n            startContent={<Plus className=\"w-4 h-4\" />}\n            onPress={handleAdd}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600\"\n          >\n            新增用户\n          </Button>\n        </div>\n      </div>\n\n      {/* 统计卡片 */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"bg-gradient-to-br from-blue-50 to-blue-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-blue-500 text-white\">\n                <User className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">总用户数</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{data.length}</p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-green-50 to-green-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-green-500 text-white\">\n                <UserCheck className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">正常用户</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {data.filter(u => u.status === 1).length}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-amber-50 to-amber-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-amber-500 text-white\">\n                <Star className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">VIP用户</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {data.filter(u => (u.level || 1) >= 2).length}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-red-50 to-red-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-red-500 text-white\">\n                <UserX className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">禁用用户</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {data.filter(u => u.status === 0).length}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n      </div>\n\n      {/* 搜索和过滤 */}\n      <Card className=\"border-0 shadow-lg\">\n        <CardBody className=\"p-6\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <Input\n              placeholder=\"搜索用户名、邮箱或手机号...\"\n              value={searchQuery}\n              onValueChange={setSearchQuery}\n              startContent={<Search className=\"w-4 h-4 text-gray-400\" />}\n              className=\"flex-1\"\n              variant=\"bordered\"\n            />\n            <Select\n              placeholder=\"选择状态\"\n              value={selectedStatus}\n              onSelectionChange={(keys) => setSelectedStatus(Array.from(keys)[0] as string)}\n              className=\"w-full sm:w-40\"\n              variant=\"bordered\"\n            >\n              {statuses.map((status) => (\n                <SelectItem key={status.key}>\n                  {status.label}\n                </SelectItem>\n              ))}\n            </Select>\n            <Select\n              placeholder=\"选择等级\"\n              value={selectedLevel}\n              onSelectionChange={(keys) => setSelectedLevel(Array.from(keys)[0] as string)}\n              className=\"w-full sm:w-40\"\n              variant=\"bordered\"\n            >\n              {levels.map((level) => (\n                <SelectItem key={level.key}>\n                  {level.label}\n                </SelectItem>\n              ))}\n            </Select>\n          </div>\n        </CardBody>\n      </Card>\n\n      {/* 数据表格 */}\n      <Card className=\"border-0 shadow-lg\">\n        <Table\n          aria-label=\"用户数据表格\"\n          isHeaderSticky\n          classNames={{\n            wrapper: \"max-h-[600px]\",\n          }}\n          bottomContent={\n            totalPages > 1 ? (\n              <div className=\"flex w-full justify-center\">\n                <Pagination\n                  isCompact\n                  showControls\n                  showShadow\n                  color=\"primary\"\n                  page={currentPage}\n                  total={totalPages}\n                  onChange={setCurrentPage}\n                />\n              </div>\n            ) : null\n          }\n        >\n          <TableHeader columns={columns}>\n            {(column) => (\n              <TableColumn key={column.uid} allowsSorting={column.sortable}>\n                {column.name}\n              </TableColumn>\n            )}\n          </TableHeader>\n          <TableBody\n            items={paginatedData}\n            loadingContent={<Spinner />}\n            isLoading={loading}\n            emptyContent={\n              <div className=\"text-center py-8\">\n                <User className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-500\">暂无用户数据</p>\n              </div>\n            }\n          >\n            {(item) => (\n              <TableRow key={item.id}>\n                {(columnKey) => <TableCell>{renderCell(item, columnKey)}</TableCell>}\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </Card>\n\n      {/* 编辑/新增模态框 */}\n      <Modal isOpen={isOpen} onOpenChange={onOpenChange} size=\"3xl\" scrollBehavior=\"inside\">\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1\">\n                <h3 className=\"text-xl font-bold\">\n                  {editingRecord ? '编辑用户' : '新增用户'}\n                </h3>\n                <p className=\"text-sm text-gray-500\">\n                  {editingRecord ? '修改用户信息' : '创建新的用户账户'}\n                </p>\n              </ModalHeader>\n              <ModalBody>\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Input\n                      label=\"用户名\"\n                      placeholder=\"请输入用户名\"\n                      value={formData.username}\n                      onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n                      startContent={<User className=\"w-4 h-4 text-gray-400\" />}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n\n                    <Input\n                      label=\"邮箱地址\"\n                      placeholder=\"请输入邮箱地址\"\n                      type=\"email\"\n                      value={formData.email}\n                      onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                      startContent={<Mail className=\"w-4 h-4 text-gray-400\" />}\n                      variant=\"bordered\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Input\n                      label=\"手机号码\"\n                      placeholder=\"请输入手机号码\"\n                      value={formData.phone}\n                      onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                      startContent={<Phone className=\"w-4 h-4 text-gray-400\" />}\n                      variant=\"bordered\"\n                    />\n\n                    <Input\n                      label=\"邀请人\"\n                      placeholder=\"请输入邀请人用户名\"\n                      value={formData.inviter_user}\n                      onChange={(e) => setFormData({ ...formData, inviter_user: e.target.value })}\n                      variant=\"bordered\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Select\n                      label=\"用户等级\"\n                      placeholder=\"请选择用户等级\"\n                      selectedKeys={[formData.level]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({ ...formData, level: value });\n                      }}\n                      variant=\"bordered\"\n                    >\n                      <SelectItem key=\"1\">普通用户</SelectItem>\n                      <SelectItem key=\"2\">VIP用户</SelectItem>\n                      <SelectItem key=\"3\">超级VIP</SelectItem>\n                      <SelectItem key=\"4\">白金用户</SelectItem>\n                      <SelectItem key=\"5\">钻石用户</SelectItem>\n                    </Select>\n\n                    <Select\n                      label=\"账户状态\"\n                      placeholder=\"请选择账户状态\"\n                      selectedKeys={[formData.status]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({ ...formData, status: value });\n                      }}\n                      variant=\"bordered\"\n                    >\n                      <SelectItem key=\"1\">正常</SelectItem>\n                      <SelectItem key=\"0\">禁用</SelectItem>\n                    </Select>\n                  </div>\n\n                  {!editingRecord && (\n                    <Input\n                      label=\"登录密码\"\n                      placeholder=\"请输入登录密码\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      value={formData.password}\n                      onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                      endContent={\n                        <button\n                          className=\"focus:outline-none\"\n                          type=\"button\"\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? (\n                            <EyeOff className=\"w-4 h-4 text-gray-400\" />\n                          ) : (\n                            <Eye className=\"w-4 h-4 text-gray-400\" />\n                          )}\n                        </button>\n                      }\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                  )}\n\n                  <Input\n                    label=\"备注信息\"\n                    placeholder=\"请输入备注信息...\"\n                    value={formData.remarks}\n                    onChange={(e) => setFormData({ ...formData, remarks: e.target.value })}\n                    variant=\"bordered\"\n                  />\n                </div>\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose}>\n                  取消\n                </Button>\n                <Button\n                  color=\"primary\"\n                  onPress={handleSave}\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-600\"\n                >\n                  保存\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </motion.div>\n  );\n};\n\nexport default AdminUsers;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OACEC,IAAI,CACJC,QAAQ,CAERC,MAAM,CACNC,KAAK,CACLC,YAAY,CACZC,WAAW,CACXC,SAAS,CACTC,WAAW,CACXC,KAAK,CACLC,MAAM,CACNC,UAAU,CACVC,KAAK,CACLC,WAAW,CACXC,WAAW,CACXC,SAAS,CACTC,QAAQ,CACRC,SAAS,CACTC,IAAI,CACJC,MAAM,CACNC,aAAa,CACbC,UAAU,CACVC,OAAO,CACPC,KAAK,KACA,eAAe,CACtB,OACEC,IAAI,CACJC,IAAI,CACJC,MAAM,CACNC,SAAS,CACTC,IAAI,CACJC,MAAM,CACNC,IAAI,CACJC,KAAK,CACLC,QAAQ,CAERC,SAAS,CACTC,KAAK,CACLC,IAAI,CACJC,GAAG,CACHC,MAAM,KACD,cAAc,CACrB,OAASC,OAAO,KAAQ,oBAAoB,CAC5C,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,WAAW,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAiBhD,KAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGlD,QAAQ,CAAS,EAAE,CAAC,CAC5C,KAAM,CAACmD,YAAY,CAAEC,eAAe,CAAC,CAAGpD,QAAQ,CAAS,EAAE,CAAC,CAC5D,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACuD,aAAa,CAAEC,gBAAgB,CAAC,CAAGxD,QAAQ,CAAc,IAAI,CAAC,CACrE,KAAM,CAACyD,WAAW,CAAEC,cAAc,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC2D,cAAc,CAAEC,iBAAiB,CAAC,CAAG5D,QAAQ,CAAS,KAAK,CAAC,CACnE,KAAM,CAAC6D,aAAa,CAAEC,gBAAgB,CAAC,CAAG9D,QAAQ,CAAS,KAAK,CAAC,CACjE,KAAM,CAAC+D,WAAW,CAAEC,cAAc,CAAC,CAAGhE,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACiE,QAAQ,CAAC,CAAGjE,QAAQ,CAAC,EAAE,CAAC,CAC/B,KAAM,CAACkE,YAAY,CAAEC,eAAe,CAAC,CAAGnE,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAEoE,MAAM,CAAEC,MAAM,CAAEC,YAAa,CAAC,CAAGjD,aAAa,CAAC,CAAC,CAExD;AACA,KAAM,CAACkD,QAAQ,CAAEC,WAAW,CAAC,CAAGxE,QAAQ,CAAC,CACvCyE,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GAAG,CACXC,QAAQ,CAAE,EAAE,CACZC,YAAY,CAAE,EAAE,CAChBC,OAAO,CAAE,EACX,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,QAAQ,CAAG,CACf,CAAEC,GAAG,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC7B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,IAAK,CAAC,CACzB,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,IAAK,CAAC,CAC1B,CAED;AACA,KAAM,CAAAC,MAAM,CAAG,CACb,CAAEF,GAAG,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC7B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC3B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAC5B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,OAAQ,CAAC,CAC5B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC3B,CAAED,GAAG,CAAE,GAAG,CAAEC,KAAK,CAAE,MAAO,CAAC,CAC5B,CAED;AACA,KAAM,CAAAE,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B/B,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAgC,MAAM,CAAG,KAAM,CAAA/C,OAAO,CAACgD,IAAI,CAAC,CAChCC,IAAI,CAAE,CAAC,CACPC,KAAK,CAAE,GACT,CAAC,CAAC,CAEF,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,OAAO,CAACN,MAAM,CAACrC,IAAI,CAAC,CAAGqC,MAAM,CAACrC,IAAI,CAAG,EAAE,CAC3DC,OAAO,CAACwC,KAAK,CAAC,CACdtC,eAAe,CAACsC,KAAK,CAAC,CACxB,CAAE,MAAOG,KAAU,CAAE,CACnBpD,WAAW,CAACoD,KAAK,CAACA,KAAK,CAACC,OAAO,EAAI,QAAQ,CAAC,CAC5C5C,OAAO,CAAC,EAAE,CAAC,CACXE,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,OAAS,CACRE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED;AACArD,SAAS,CAAC,IAAM,CACd,GAAI,CAAA8F,QAAQ,CAAG9C,IAAI,CAEnB;AACA,GAAIQ,WAAW,CAAE,CACfsC,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,IAAI,EAC7BA,IAAI,CAACxB,QAAQ,CAACyB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1C,WAAW,CAACyC,WAAW,CAAC,CAAC,CAAC,EAC9DD,IAAI,CAACvB,KAAK,EAAIuB,IAAI,CAACvB,KAAK,CAACwB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC1C,WAAW,CAACyC,WAAW,CAAC,CAAC,CAAE,EAC3ED,IAAI,CAACtB,KAAK,EAAIsB,IAAI,CAACtB,KAAK,CAACwB,QAAQ,CAAC1C,WAAW,CAChD,CAAC,CACH,CAEA;AACA,GAAIE,cAAc,GAAK,KAAK,CAAE,CAC5BoC,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,IAAI,EAAIG,MAAM,CAACH,IAAI,CAACpB,MAAM,CAAC,GAAKlB,cAAc,CAAC,CAC5E,CAEA;AACA,GAAIE,aAAa,GAAK,KAAK,CAAE,CAC3BkC,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,IAAI,EAAIG,MAAM,CAACH,IAAI,CAACrB,KAAK,CAAC,GAAKf,aAAa,CAAC,CAC1E,CAEAT,eAAe,CAAC2C,QAAQ,CAAC,CACzB/B,cAAc,CAAC,CAAC,CAAC,CACnB,CAAC,CAAE,CAACf,IAAI,CAAEQ,WAAW,CAAEE,cAAc,CAAEE,aAAa,CAAC,CAAC,CAEtD5D,SAAS,CAAC,IAAM,CACdoF,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAgB,SAAS,CAAGA,CAAA,GAAM,CACtB7C,gBAAgB,CAAC,IAAI,CAAC,CACtBgB,WAAW,CAAC,CACVC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,GAAG,CACVC,MAAM,CAAE,GAAG,CACXC,QAAQ,CAAE,EAAE,CACZC,YAAY,CAAE,EAAE,CAChBC,OAAO,CAAE,EACX,CAAC,CAAC,CACFX,MAAM,CAAC,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAAiC,UAAU,CAAIC,MAAY,EAAK,CACnC/C,gBAAgB,CAAC+C,MAAM,CAAC,CACxB/B,WAAW,CAAC,CACVC,QAAQ,CAAE8B,MAAM,CAAC9B,QAAQ,CACzBC,KAAK,CAAE6B,MAAM,CAAC7B,KAAK,EAAI,EAAE,CACzBC,KAAK,CAAE4B,MAAM,CAAC5B,KAAK,EAAI,EAAE,CACzBC,KAAK,CAAEwB,MAAM,CAACG,MAAM,CAAC3B,KAAK,EAAI,CAAC,CAAC,CAChCC,MAAM,CAAEuB,MAAM,CAACG,MAAM,CAAC1B,MAAM,EAAI,CAAC,CAAC,CAClCC,QAAQ,CAAE,EAAE,CACZC,YAAY,CAAEwB,MAAM,CAACxB,YAAY,EAAI,EAAE,CACvCC,OAAO,CAAEuB,MAAM,CAACvB,OAAO,EAAI,EAC7B,CAAC,CAAC,CACFX,MAAM,CAAC,CAAC,CACV,CAAC,CAED;AACA,KAAM,CAAAmC,YAAY,CAAG,KAAAA,CAAOC,EAAU,CAAEhC,QAAgB,GAAK,CAC3D,GAAI,CAACiC,MAAM,CAACC,OAAO,CAAC,WAAWlC,QAAQ,MAAM,CAAC,CAAE,OAEhD,GAAI,CACF,KAAM,CAAAlC,OAAO,CAACqE,MAAM,CAACH,EAAE,CAAC,CACxBhE,WAAW,CAACoE,OAAO,CAAC,MAAM,CAAC,CAC3BxB,QAAQ,CAAC,CAAC,CACZ,CAAE,MAAOQ,KAAU,CAAE,CACnBpD,WAAW,CAACoD,KAAK,CAACA,KAAK,CAACC,OAAO,EAAI,MAAM,CAAC,CAC5C,CACF,CAAC,CAED;AACA,KAAM,CAAAgB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,CACf,GAAGxC,QAAQ,CACXK,KAAK,CAAEoC,QAAQ,CAACzC,QAAQ,CAACK,KAAK,CAAC,CAC/BC,MAAM,CAAEmC,QAAQ,CAACzC,QAAQ,CAACM,MAAM,CAClC,CAAC,CAED,GAAItB,aAAa,CAAE,CACjB,KAAM,CAAAhB,OAAO,CAAC0E,MAAM,CAAC,CAAER,EAAE,CAAElD,aAAa,CAACkD,EAAE,CAAE,GAAGM,QAAS,CAAC,CAAC,CAC3DtE,WAAW,CAACoE,OAAO,CAAC,MAAM,CAAC,CAC7B,CAAC,IAAM,CACL,KAAM,CAAAtE,OAAO,CAAC2E,MAAM,CAACH,QAAQ,CAAC,CAC9BtE,WAAW,CAACoE,OAAO,CAAC,MAAM,CAAC,CAC7B,CAEAvC,YAAY,CAAC,CAAC,CACde,QAAQ,CAAC,CAAC,CACZ,CAAE,MAAOQ,KAAU,CAAE,CACnBpD,WAAW,CAACoD,KAAK,CAACA,KAAK,CAACC,OAAO,EAAI,MAAM,CAAC,CAC5C,CACF,CAAC,CAED,KAAM,CAAAqB,YAAY,CAAIvC,KAAa,EAAK,CACtC,KAAM,CAAAwC,QAAwE,CAAG,CAC/E,CAAC,CAAE,CAAEjC,KAAK,CAAE,MAAM,CAAEkC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,IAAK,CAAC,CAClD,CAAC,CAAE,CAAEnC,KAAK,CAAE,OAAO,CAAEkC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,GAAI,CAAC,CAClD,CAAC,CAAE,CAAEnC,KAAK,CAAE,OAAO,CAAEkC,KAAK,CAAE,WAAW,CAAEC,IAAI,CAAE,IAAK,CAAC,CACrD,CAAC,CAAE,CAAEnC,KAAK,CAAE,MAAM,CAAEkC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,IAAK,CAAC,CAClD,CAAC,CAAE,CAAEnC,KAAK,CAAE,MAAM,CAAEkC,KAAK,CAAE,QAAQ,CAAEC,IAAI,CAAE,IAAK,CAClD,CAAC,CACD,MAAO,CAAAF,QAAQ,CAACxC,KAAK,CAAC,EAAI,CAAEO,KAAK,CAAE,KAAKP,KAAK,EAAE,CAAEyC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,IAAK,CAAC,CACjF,CAAC,CAED,KAAM,CAAAC,aAAa,CAAItB,IAAU,EAAK,CACpC,KAAM,CAAAuB,SAAS,CAAGL,YAAY,CAAClB,IAAI,CAACrB,KAAK,EAAI,CAAC,CAAC,CAC/C,mBACE/B,KAAA,QAAK4E,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB/E,IAAA,CAACvB,MAAM,EACLuG,IAAI,CAAE1B,IAAI,CAACxB,QAAQ,CAACmD,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAE,CAC5CC,IAAI,CAAC,IAAI,CACTT,KAAK,CAAEG,SAAS,CAACH,KAAM,CACvBI,SAAS,CAAC,mBAAmB,CAC9B,CAAC,CACDxB,IAAI,CAACrB,KAAK,EAAIqB,IAAI,CAACrB,KAAK,CAAG,CAAC,eAC3BjC,IAAA,CAACnB,KAAK,EACJuG,OAAO,CAAEP,SAAS,CAACF,IAAK,CACxBQ,IAAI,CAAC,IAAI,CACTL,SAAS,CAAC,kCAAkC,CAAAC,QAAA,cAE5C/E,IAAA,UAAY,CAAC,CACR,CACR,EACE,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAqF,UAAU,CAAG,CAACjE,WAAW,CAAG,CAAC,EAAIE,QAAQ,CAC/C,KAAM,CAAAgE,QAAQ,CAAGD,UAAU,CAAG/D,QAAQ,CACtC,KAAM,CAAAiE,aAAa,CAAG/E,YAAY,CAACgF,KAAK,CAACH,UAAU,CAAEC,QAAQ,CAAC,CAC9D,KAAM,CAAAG,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACnF,YAAY,CAACoF,MAAM,CAAGtE,QAAQ,CAAC,CAE5D,KAAM,CAAAuE,OAAO,CAAG,CACd,CAAEb,IAAI,CAAE,MAAM,CAAEc,GAAG,CAAE,WAAW,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAClD,CAAEf,IAAI,CAAE,MAAM,CAAEc,GAAG,CAAE,SAAS,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAChD,CAAEf,IAAI,CAAE,IAAI,CAAEc,GAAG,CAAE,OAAO,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAC5C,CAAEf,IAAI,CAAE,IAAI,CAAEc,GAAG,CAAE,QAAQ,CAAEC,QAAQ,CAAE,IAAK,CAAC,CAC7C,CAAEf,IAAI,CAAE,MAAM,CAAEc,GAAG,CAAE,YAAY,CAAEC,QAAQ,CAAE,IAAK,CAAC,CACnD,CAAEf,IAAI,CAAE,MAAM,CAAEc,GAAG,CAAE,YAAY,CAAEC,QAAQ,CAAE,IAAK,CAAC,CACnD,CAAEf,IAAI,CAAE,IAAI,CAAEc,GAAG,CAAE,SAAU,CAAC,CAC/B,CAED,KAAM,CAAAE,UAAU,CAAGA,CAAC1C,IAAU,CAAE2C,SAAoB,GAAK,CACvD,KAAM,CAAAC,SAAS,CAAG5C,IAAI,CAAC2C,SAAS,CAAe,CAC/C,KAAM,CAAApB,SAAS,CAAGL,YAAY,CAAClB,IAAI,CAACrB,KAAK,EAAI,CAAC,CAAC,CAE/C,OAAQgE,SAAS,EACf,IAAK,WAAW,CACd,mBACE/F,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACrCH,aAAa,CAACtB,IAAI,CAAC,cACpBpD,KAAA,QAAK4E,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B/E,IAAA,MAAG8E,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEzB,IAAI,CAACxB,QAAQ,CAAI,CAAC,cACtE5B,KAAA,MAAG4E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,MAAI,CAACzB,IAAI,CAACQ,EAAE,EAAI,CAAC,CACrDR,IAAI,CAAClB,YAAY,eAChBlC,KAAA,MAAG4E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,sBAAK,CAACzB,IAAI,CAAClB,YAAY,EAAI,CACjE,EACE,CAAC,EACH,CAAC,CAEV,IAAK,SAAS,CACZ,mBACElC,KAAA,QAAK4E,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EACjCzB,IAAI,CAACvB,KAAK,eACT7B,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,CAACZ,IAAI,EAAC0F,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC1C9E,IAAA,SAAM8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEzB,IAAI,CAACvB,KAAK,CAAO,CAAC,EACxD,CACN,CACAuB,IAAI,CAACtB,KAAK,eACT9B,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,CAACX,KAAK,EAACyF,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC3C9E,IAAA,SAAM8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEzB,IAAI,CAACtB,KAAK,CAAO,CAAC,EACxD,CACN,EACE,CAAC,CAEV,IAAK,OAAO,CACV,mBACEhC,IAAA,QAAK8E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtC7E,KAAA,CAAC1B,IAAI,EAAC2G,IAAI,CAAC,IAAI,CAACT,KAAK,CAAEG,SAAS,CAACH,KAAM,CAACyB,OAAO,CAAC,MAAM,CAAApB,QAAA,EACnDF,SAAS,CAACF,IAAI,CAAC,GAAC,CAACE,SAAS,CAACrC,KAAK,EAC7B,CAAC,CACJ,CAAC,CAEV,IAAK,QAAQ,CACX,mBACExC,IAAA,CAACxB,IAAI,EACH2G,IAAI,CAAC,IAAI,CACTT,KAAK,CAAEpB,IAAI,CAACpB,MAAM,GAAK,CAAC,CAAG,SAAS,CAAG,QAAS,CAChDiE,OAAO,CAAC,MAAM,CACdC,YAAY,CAAE9C,IAAI,CAACpB,MAAM,GAAK,CAAC,cAAGlC,IAAA,CAACT,SAAS,EAACuF,SAAS,CAAC,SAAS,CAAE,CAAC,cAAG9E,IAAA,CAACR,KAAK,EAACsF,SAAS,CAAC,SAAS,CAAE,CAAE,CAAAC,QAAA,CAEnGzB,IAAI,CAACpB,MAAM,GAAK,CAAC,CAAG,IAAI,CAAG,IAAI,CAC5B,CAAC,CAEX,IAAK,YAAY,CACf,mBACEhC,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,CAACV,QAAQ,EAACwF,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAC9C9E,IAAA,SAAM8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpCzB,IAAI,CAAC+C,UAAU,CAAG,GAAI,CAAAC,IAAI,CAAChD,IAAI,CAAC+C,UAAU,CAAC,CAACE,kBAAkB,CAAC,CAAC,CAAG,GAAG,CACnE,CAAC,EACJ,CAAC,CAEV,IAAK,YAAY,CACf,mBACEvG,IAAA,SAAM8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACpCzB,IAAI,CAACkD,UAAU,CAAG,GAAI,CAAAF,IAAI,CAAChD,IAAI,CAACkD,UAAU,CAAC,CAACD,kBAAkB,CAAC,CAAC,CAAG,KAAK,CACrE,CAAC,CAEX,IAAK,SAAS,CACZ,mBACErG,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,CAACvC,MAAM,EACL0H,IAAI,CAAC,IAAI,CACTgB,OAAO,CAAC,OAAO,CACfzB,KAAK,CAAC,SAAS,CACf+B,OAAO,CAAEA,CAAA,GAAM9C,UAAU,CAACL,IAAI,CAAE,CAChC8C,YAAY,cAAEpG,IAAA,CAACjB,IAAI,EAAC+F,SAAS,CAAC,SAAS,CAAE,CAAE,CAAAC,QAAA,CAC5C,cAED,CAAQ,CAAC,cACT/E,IAAA,CAACvC,MAAM,EACL0H,IAAI,CAAC,IAAI,CACTgB,OAAO,CAAC,OAAO,CACfzB,KAAK,CAAC,QAAQ,CACd+B,OAAO,CAAEA,CAAA,GAAM5C,YAAY,CAACP,IAAI,CAACQ,EAAE,CAAER,IAAI,CAACxB,QAAQ,CAAE,CACpDsE,YAAY,cAAEpG,IAAA,CAAChB,MAAM,EAAC8F,SAAS,CAAC,SAAS,CAAE,CAAE,CAAAC,QAAA,CAC9C,cAED,CAAQ,CAAC,EACN,CAAC,CAEV,QACE,MAAO,CAAAmB,SAAS,CACpB,CACF,CAAC,CAED,mBACEhG,KAAA,CAACL,MAAM,CAAC6G,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BlC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAGrB7E,KAAA,QAAK4E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD7E,KAAA,QAAA6E,QAAA,eACE/E,IAAA,OAAI8E,SAAS,CAAC,6FAA6F,CAAAC,QAAA,CAAC,0BAE5G,CAAI,CAAC,cACL/E,IAAA,MAAG8E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,0EAAY,CAAG,CAAC,EAC/C,CAAC,cACN7E,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,CAACvC,MAAM,EACL0I,OAAO,CAAC,MAAM,CACdC,YAAY,cAAEpG,IAAA,CAACf,SAAS,EAAC6F,SAAS,CAAC,SAAS,CAAE,CAAE,CAChD2B,OAAO,CAAE/D,QAAS,CAClBuE,SAAS,CAAEvG,OAAQ,CAAAqE,QAAA,CACpB,0BAED,CAAQ,CAAC,cACT/E,IAAA,CAACvC,MAAM,EACLiH,KAAK,CAAC,SAAS,CACfyB,OAAO,CAAC,QAAQ,CAChBC,YAAY,cAAEpG,IAAA,CAAClB,IAAI,EAACgG,SAAS,CAAC,SAAS,CAAE,CAAE,CAC3C2B,OAAO,CAAE/C,SAAU,CACnBoB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CACzD,0BAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGN7E,KAAA,QAAK4E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/E,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cACnE/E,IAAA,CAACxC,QAAQ,EAACsH,SAAS,CAAC,KAAK,CAAAC,QAAA,cACvB7E,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,QAAK8E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpD/E,IAAA,CAACd,IAAI,EAAC4F,SAAS,CAAC,SAAS,CAAE,CAAC,CACzB,CAAC,cACN5E,KAAA,QAAA6E,QAAA,eACE/E,IAAA,MAAG8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,0BAAI,CAAG,CAAC,cAC7C/E,IAAA,MAAG8E,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEzE,IAAI,CAACsF,MAAM,CAAI,CAAC,EAC9D,CAAC,EACH,CAAC,CACE,CAAC,CACP,CAAC,cACP5F,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACrE/E,IAAA,CAACxC,QAAQ,EAACsH,SAAS,CAAC,KAAK,CAAAC,QAAA,cACvB7E,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,QAAK8E,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD/E,IAAA,CAACT,SAAS,EAACuF,SAAS,CAAC,SAAS,CAAE,CAAC,CAC9B,CAAC,cACN5E,KAAA,QAAA6E,QAAA,eACE/E,IAAA,MAAG8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,0BAAI,CAAG,CAAC,cAC7C/E,IAAA,MAAG8E,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CzE,IAAI,CAAC+C,MAAM,CAAC6D,CAAC,EAAIA,CAAC,CAAChF,MAAM,GAAK,CAAC,CAAC,CAAC0D,MAAM,CACvC,CAAC,EACD,CAAC,EACH,CAAC,CACE,CAAC,CACP,CAAC,cACP5F,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cACrE/E,IAAA,CAACxC,QAAQ,EAACsH,SAAS,CAAC,KAAK,CAAAC,QAAA,cACvB7E,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,QAAK8E,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD/E,IAAA,CAACP,IAAI,EAACqF,SAAS,CAAC,SAAS,CAAE,CAAC,CACzB,CAAC,cACN5E,KAAA,QAAA6E,QAAA,eACE/E,IAAA,MAAG8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAK,CAAG,CAAC,cAC9C/E,IAAA,MAAG8E,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CzE,IAAI,CAAC+C,MAAM,CAAC6D,CAAC,EAAI,CAACA,CAAC,CAACjF,KAAK,EAAI,CAAC,GAAK,CAAC,CAAC,CAAC2D,MAAM,CAC5C,CAAC,EACD,CAAC,EACH,CAAC,CACE,CAAC,CACP,CAAC,cACP5F,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cACjE/E,IAAA,CAACxC,QAAQ,EAACsH,SAAS,CAAC,KAAK,CAAAC,QAAA,cACvB7E,KAAA,QAAK4E,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtC/E,IAAA,QAAK8E,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACnD/E,IAAA,CAACR,KAAK,EAACsF,SAAS,CAAC,SAAS,CAAE,CAAC,CAC1B,CAAC,cACN5E,KAAA,QAAA6E,QAAA,eACE/E,IAAA,MAAG8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,0BAAI,CAAG,CAAC,cAC7C/E,IAAA,MAAG8E,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAC5CzE,IAAI,CAAC+C,MAAM,CAAC6D,CAAC,EAAIA,CAAC,CAAChF,MAAM,GAAK,CAAC,CAAC,CAAC0D,MAAM,CACvC,CAAC,EACD,CAAC,EACH,CAAC,CACE,CAAC,CACP,CAAC,EACJ,CAAC,cAGN5F,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClC/E,IAAA,CAACxC,QAAQ,EAACsH,SAAS,CAAC,KAAK,CAAAC,QAAA,cACvB7E,KAAA,QAAK4E,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC9C/E,IAAA,CAACjC,KAAK,EACJoJ,WAAW,CAAC,6EAAiB,CAC7BC,KAAK,CAAEtG,WAAY,CACnBuG,aAAa,CAAEtG,cAAe,CAC9BqF,YAAY,cAAEpG,IAAA,CAACb,MAAM,EAAC2F,SAAS,CAAC,uBAAuB,CAAE,CAAE,CAC3DA,SAAS,CAAC,QAAQ,CAClBqB,OAAO,CAAC,UAAU,CACnB,CAAC,cACFnG,IAAA,CAAChC,MAAM,EACLmJ,WAAW,CAAC,0BAAM,CAClBC,KAAK,CAAEpG,cAAe,CACtBsG,iBAAiB,CAAGC,IAAI,EAAKtG,iBAAiB,CAAC+B,KAAK,CAACwE,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAW,CAAE,CAC9EzC,SAAS,CAAC,gBAAgB,CAC1BqB,OAAO,CAAC,UAAU,CAAApB,QAAA,CAEjBzC,QAAQ,CAACmF,GAAG,CAAEvF,MAAM,eACnBlC,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CACR7C,MAAM,CAACM,KAAK,EADEN,MAAM,CAACK,GAEZ,CACb,CAAC,CACI,CAAC,cACTvC,IAAA,CAAChC,MAAM,EACLmJ,WAAW,CAAC,0BAAM,CAClBC,KAAK,CAAElG,aAAc,CACrBoG,iBAAiB,CAAGC,IAAI,EAAKpG,gBAAgB,CAAC6B,KAAK,CAACwE,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAW,CAAE,CAC7EzC,SAAS,CAAC,gBAAgB,CAC1BqB,OAAO,CAAC,UAAU,CAAApB,QAAA,CAEjBtC,MAAM,CAACgF,GAAG,CAAExF,KAAK,eAChBjC,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CACR9C,KAAK,CAACO,KAAK,EADGP,KAAK,CAACM,GAEX,CACb,CAAC,CACI,CAAC,EACN,CAAC,CACE,CAAC,CACP,CAAC,cAGPvC,IAAA,CAACzC,IAAI,EAACuH,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAClC7E,KAAA,CAAChC,KAAK,EACJ,aAAW,sCAAQ,CACnBwJ,cAAc,MACdC,UAAU,CAAE,CACVC,OAAO,CAAE,eACX,CAAE,CACFC,aAAa,CACXpC,UAAU,CAAG,CAAC,cACZzF,IAAA,QAAK8E,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC/E,IAAA,CAACrB,UAAU,EACTmJ,SAAS,MACTC,YAAY,MACZC,UAAU,MACVtD,KAAK,CAAC,SAAS,CACf7B,IAAI,CAAEzB,WAAY,CAClB6G,KAAK,CAAExC,UAAW,CAClByC,QAAQ,CAAE7G,cAAe,CAC1B,CAAC,CACC,CAAC,CACJ,IACL,CAAA0D,QAAA,eAED/E,IAAA,CAAC7B,WAAW,EAAC0H,OAAO,CAAEA,OAAQ,CAAAd,QAAA,CAC1BoD,MAAM,eACNnI,IAAA,CAAC5B,WAAW,EAAkBgK,aAAa,CAAED,MAAM,CAACpC,QAAS,CAAAhB,QAAA,CAC1DoD,MAAM,CAACnD,IAAI,EADImD,MAAM,CAACrC,GAEZ,CACd,CACU,CAAC,cACd9F,IAAA,CAAC3B,SAAS,EACRgK,KAAK,CAAE9C,aAAc,CACrB+C,cAAc,cAAEtI,IAAA,CAACpB,OAAO,GAAE,CAAE,CAC5BqI,SAAS,CAAEvG,OAAQ,CACnB6H,YAAY,cACVrI,KAAA,QAAK4E,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B/E,IAAA,CAACd,IAAI,EAAC4F,SAAS,CAAC,sCAAsC,CAAE,CAAC,cACzD9E,IAAA,MAAG8E,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,sCAAM,CAAG,CAAC,EACpC,CACN,CAAAA,QAAA,CAECyD,IAAI,eACJxI,IAAA,CAAC1B,QAAQ,EAAAyG,QAAA,CACLkB,SAAS,eAAKjG,IAAA,CAACzB,SAAS,EAAAwG,QAAA,CAAEiB,UAAU,CAACwC,IAAI,CAAEvC,SAAS,CAAC,CAAY,CAAC,EADvDuC,IAAI,CAAC1E,EAEV,CACX,CACQ,CAAC,EACP,CAAC,CACJ,CAAC,cAGP9D,IAAA,CAACtC,KAAK,EAAC+D,MAAM,CAAEA,MAAO,CAACE,YAAY,CAAEA,YAAa,CAACwD,IAAI,CAAC,KAAK,CAACsD,cAAc,CAAC,QAAQ,CAAA1D,QAAA,cACnF/E,IAAA,CAACrC,YAAY,EAAAoH,QAAA,CACT2D,OAAO,eACPxI,KAAA,CAAAE,SAAA,EAAA2E,QAAA,eACE7E,KAAA,CAACtC,WAAW,EAACkH,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAC1C/E,IAAA,OAAI8E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC9BnE,aAAa,CAAG,MAAM,CAAG,MAAM,CAC9B,CAAC,cACLZ,IAAA,MAAG8E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACjCnE,aAAa,CAAG,QAAQ,CAAG,UAAU,CACrC,CAAC,EACO,CAAC,cACdZ,IAAA,CAACnC,SAAS,EAAAkH,QAAA,cACR7E,KAAA,QAAK4E,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB7E,KAAA,QAAK4E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/E,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,oBAAK,CACX2E,WAAW,CAAC,sCAAQ,CACpBC,KAAK,CAAExF,QAAQ,CAACE,QAAS,CACzBoG,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEE,QAAQ,CAAE6G,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CACxEhB,YAAY,cAAEpG,IAAA,CAACd,IAAI,EAAC4F,SAAS,CAAC,uBAAuB,CAAE,CAAE,CACzD+D,UAAU,MACV1C,OAAO,CAAC,UAAU,CACnB,CAAC,cAEFnG,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,4CAAS,CACrB2B,IAAI,CAAC,OAAO,CACZ1B,KAAK,CAAExF,QAAQ,CAACG,KAAM,CACtBmG,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEG,KAAK,CAAE4G,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CACrEhB,YAAY,cAAEpG,IAAA,CAACZ,IAAI,EAAC0F,SAAS,CAAC,uBAAuB,CAAE,CAAE,CACzDqB,OAAO,CAAC,UAAU,CACnB,CAAC,EACC,CAAC,cAENjG,KAAA,QAAK4E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD/E,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,4CAAS,CACrBC,KAAK,CAAExF,QAAQ,CAACI,KAAM,CACtBkG,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEI,KAAK,CAAE2G,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CACrEhB,YAAY,cAAEpG,IAAA,CAACX,KAAK,EAACyF,SAAS,CAAC,uBAAuB,CAAE,CAAE,CAC1DqB,OAAO,CAAC,UAAU,CACnB,CAAC,cAEFnG,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,oBAAK,CACX2E,WAAW,CAAC,wDAAW,CACvBC,KAAK,CAAExF,QAAQ,CAACQ,YAAa,CAC7B8F,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEQ,YAAY,CAAEuG,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CAC5EjB,OAAO,CAAC,UAAU,CACnB,CAAC,EACC,CAAC,cAENjG,KAAA,QAAK4E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpD7E,KAAA,CAAClC,MAAM,EACLwE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,4CAAS,CACrB4B,YAAY,CAAE,CAACnH,QAAQ,CAACK,KAAK,CAAE,CAC/BqF,iBAAiB,CAAGC,IAAI,EAAK,CAC3B,KAAM,CAAAH,KAAK,CAAGpE,KAAK,CAACwE,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAW,CAC3C1F,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEK,KAAK,CAAEmF,KAAM,CAAC,CAAC,CAC5C,CAAE,CACFjB,OAAO,CAAC,UAAU,CAAApB,QAAA,eAElB/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,0BAAI,EAAR,GAAoB,CAAC,cACrC/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,iBAAK,EAAT,GAAqB,CAAC,cACtC/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,iBAAK,EAAT,GAAqB,CAAC,cACtC/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,0BAAI,EAAR,GAAoB,CAAC,cACrC/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,0BAAI,EAAR,GAAoB,CAAC,EAC/B,CAAC,cAET7E,KAAA,CAAClC,MAAM,EACLwE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,4CAAS,CACrB4B,YAAY,CAAE,CAACnH,QAAQ,CAACM,MAAM,CAAE,CAChCoF,iBAAiB,CAAGC,IAAI,EAAK,CAC3B,KAAM,CAAAH,KAAK,CAAGpE,KAAK,CAACwE,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAW,CAC3C1F,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEM,MAAM,CAAEkF,KAAM,CAAC,CAAC,CAC7C,CAAE,CACFjB,OAAO,CAAC,UAAU,CAAApB,QAAA,eAElB/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,cAAE,EAAN,GAAkB,CAAC,cACnC/E,IAAA,CAAC/B,UAAU,EAAA8G,QAAA,CAAS,cAAE,EAAN,GAAkB,CAAC,EAC7B,CAAC,EACN,CAAC,CAEL,CAACnE,aAAa,eACbZ,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,4CAAS,CACrB2B,IAAI,CAAEvH,YAAY,CAAG,MAAM,CAAG,UAAW,CACzC6F,KAAK,CAAExF,QAAQ,CAACO,QAAS,CACzB+F,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEO,QAAQ,CAAEwG,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CACxE4B,UAAU,cACRhJ,IAAA,WACE8E,SAAS,CAAC,oBAAoB,CAC9BgE,IAAI,CAAC,QAAQ,CACbG,OAAO,CAAEA,CAAA,GAAMzH,eAAe,CAAC,CAACD,YAAY,CAAE,CAAAwD,QAAA,CAE7CxD,YAAY,cACXvB,IAAA,CAACL,MAAM,EAACmF,SAAS,CAAC,uBAAuB,CAAE,CAAC,cAE5C9E,IAAA,CAACN,GAAG,EAACoF,SAAS,CAAC,uBAAuB,CAAE,CACzC,CACK,CACT,CACD+D,UAAU,MACV1C,OAAO,CAAC,UAAU,CACnB,CACF,cAEDnG,IAAA,CAACjC,KAAK,EACJyE,KAAK,CAAC,0BAAM,CACZ2E,WAAW,CAAC,+CAAY,CACxBC,KAAK,CAAExF,QAAQ,CAACS,OAAQ,CACxB6F,QAAQ,CAAGS,CAAC,EAAK9G,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAES,OAAO,CAAEsG,CAAC,CAACC,MAAM,CAACxB,KAAM,CAAC,CAAE,CACvEjB,OAAO,CAAC,UAAU,CACnB,CAAC,EACC,CAAC,CACG,CAAC,cACZjG,KAAA,CAACpC,WAAW,EAAAiH,QAAA,eACV/E,IAAA,CAACvC,MAAM,EAAC0I,OAAO,CAAC,MAAM,CAACM,OAAO,CAAEiC,OAAQ,CAAA3D,QAAA,CAAC,cAEzC,CAAQ,CAAC,cACT/E,IAAA,CAACvC,MAAM,EACLiH,KAAK,CAAC,SAAS,CACf+B,OAAO,CAAEtC,UAAW,CACpBW,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CACzD,cAED,CAAQ,CAAC,EACE,CAAC,EACd,CACH,CACW,CAAC,CACV,CAAC,EACE,CAAC,CAEjB,CAAC,CAED,cAAe,CAAA1E,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,CardBody,Button,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Input,Textarea,Select,SelectItem,Chip,useDisclosure,Table,TableHeader,TableColumn,TableBody,TableRow,TableCell,Pagination,Spinner,Avatar}from'@heroui/react';import{Plus,Edit,Trash2,RefreshCw,Package,Search,Eye,Calendar,DollarSign,Clock,Star}from'lucide-react';import{packageApi}from'../../services/api';import{motion}from'framer-motion';import{showMessage}from'../../utils/toast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPackages=()=>{const[data,setData]=useState([]);const[filteredData,setFilteredData]=useState([]);const[loading,setLoading]=useState(false);const[editingRecord,setEditingRecord]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[selectedCategory,setSelectedCategory]=useState('all');const[selectedStatus,setSelectedStatus]=useState('all');const[currentPage,setCurrentPage]=useState(1);const[pageSize]=useState(10);const{isOpen,onOpen,onOpenChange}=useDisclosure();// 表单数据\nconst[formData,setFormData]=useState({package_name:'',category:'personal',price:'',duration:'',introduce:'',level:'',priority:'',remarks:'',status:'1'});// 分类选项\nconst categories=[{key:'all',label:'全部分类'},{key:'personal',label:'个人版'},{key:'enterprise',label:'企业版'},{key:'premium',label:'高级版'}];// 状态选项\nconst statuses=[{key:'all',label:'全部状态'},{key:'1',label:'启用'},{key:'0',label:'禁用'}];// 加载数据\nconst loadData=async()=>{setLoading(true);try{const result=await packageApi.list({page:1,limit:100});const packages=Array.isArray(result.data)?result.data:[];setData(packages);setFilteredData(packages);}catch(error){showMessage.error(error.message||'加载数据失败');setData([]);setFilteredData([]);}finally{setLoading(false);}};// 过滤数据\nuseEffect(()=>{let filtered=data;// 按搜索查询过滤\nif(searchQuery){filtered=filtered.filter(pkg=>pkg.package_name.toLowerCase().includes(searchQuery.toLowerCase())||pkg.introduce&&pkg.introduce.toLowerCase().includes(searchQuery.toLowerCase()));}// 按分类过滤\nif(selectedCategory!=='all'){filtered=filtered.filter(pkg=>pkg.category===selectedCategory);}// 按状态过滤\nif(selectedStatus!=='all'){filtered=filtered.filter(pkg=>String(pkg.status)===selectedStatus);}setFilteredData(filtered);setCurrentPage(1);},[data,searchQuery,selectedCategory,selectedStatus]);useEffect(()=>{loadData();},[]);// 新增套餐\nconst handleAdd=()=>{setEditingRecord(null);setFormData({package_name:'',category:'personal',price:'',duration:'',introduce:'',level:'',priority:'',remarks:'',status:'1'});onOpen();};// 编辑套餐\nconst handleEdit=record=>{setEditingRecord(record);setFormData({package_name:record.package_name,category:record.category,price:String(record.price),duration:String(record.duration),introduce:record.introduce||'',level:String(record.level),priority:String(record.priority),remarks:record.remarks||'',status:String(record.status||1)});onOpen();};// 删除套餐\nconst handleDelete=async(id,name)=>{if(!window.confirm(`确定删除套餐 \"${name}\" 吗？`))return;try{await packageApi.delete(id);showMessage.success('删除成功');loadData();}catch(error){showMessage.error(error.message||'删除失败');}};// 保存套餐\nconst handleSave=async()=>{try{const saveData={...formData,price:parseFloat(formData.price),duration:parseInt(formData.duration),level:parseInt(formData.level),priority:parseInt(formData.priority),status:parseInt(formData.status)};if(editingRecord){await packageApi.update({id:editingRecord.id,...saveData});showMessage.success('更新成功');}else{await packageApi.create(saveData);showMessage.success('创建成功');}onOpenChange();loadData();}catch(error){showMessage.error(error.message||'保存失败');}};const getCategoryInfo=category=>{const categoryMap={'personal':{label:'个人版',color:'primary',icon:'👤'},'enterprise':{label:'企业版',color:'success',icon:'🏢'},'premium':{label:'高级版',color:'secondary',icon:'⭐'}};return categoryMap[category]||{label:category,color:'default',icon:'📦'};};const getLevelColor=level=>{if(level>=5)return'danger';if(level>=3)return'warning';return'success';};// 分页数据\nconst startIndex=(currentPage-1)*pageSize;const endIndex=startIndex+pageSize;const paginatedData=filteredData.slice(startIndex,endIndex);const totalPages=Math.ceil(filteredData.length/pageSize);const columns=[{name:\"套餐信息\",uid:\"package_info\",sortable:true},{name:\"价格\",uid:\"price\",sortable:true},{name:\"时长\",uid:\"duration\",sortable:true},{name:\"等级\",uid:\"level\",sortable:true},{name:\"状态\",uid:\"status\",sortable:true},{name:\"创建时间\",uid:\"created_at\",sortable:true},{name:\"操作\",uid:\"actions\"}];const renderCell=(pkg,columnKey)=>{const cellValue=pkg[columnKey];const categoryInfo=getCategoryInfo(pkg.category);switch(columnKey){case\"package_info\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(Avatar,{showFallback:true,fallback:/*#__PURE__*/_jsx(Package,{className:\"w-4 h-4 text-gray-400\"}),className:\"w-10 h-10\",color:categoryInfo.color}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:pkg.package_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-1\",children:[/*#__PURE__*/_jsxs(Chip,{size:\"sm\",color:categoryInfo.color,variant:\"flat\",children:[categoryInfo.icon,\" \",categoryInfo.label]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"\\u4F18\\u5148\\u7EA7: \",pkg.priority]})]}),pkg.introduce&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1 line-clamp-2\",children:pkg.introduce})]})]});case\"price\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 text-green-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-semibold text-green-600\",children:[\"\\xA5\",pkg.price.toFixed(2)]})]});case\"duration\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-blue-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-900\",children:[pkg.duration,\"\\u5929\"]})]});case\"level\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-amber-500\"}),/*#__PURE__*/_jsxs(Chip,{size:\"sm\",color:getLevelColor(pkg.level),variant:\"flat\",children:[\"L\",pkg.level]})]});case\"status\":return/*#__PURE__*/_jsx(Chip,{size:\"sm\",color:pkg.status===1?'success':'danger',variant:\"flat\",children:pkg.status===1?'启用':'禁用'});case\"created_at\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:pkg.created_at?new Date(pkg.created_at).toLocaleDateString():'-'})]});case\"actions\":return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"light\",color:\"primary\",onPress:()=>handleEdit(pkg),startContent:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"}),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"light\",color:\"danger\",onPress:()=>handleDelete(pkg.id,pkg.package_name),startContent:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),children:\"\\u5220\\u9664\"})]});default:return cellValue;}};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\",children:\"\\u5957\\u9910\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"\\u7BA1\\u7406\\u7CFB\\u7EDF\\u4E2D\\u7684\\u6240\\u6709\\u5957\\u9910\\u914D\\u7F6E\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",startContent:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),onPress:loadData,isLoading:loading,children:\"\\u5237\\u65B0\\u6570\\u636E\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"shadow\",startContent:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),onPress:handleAdd,className:\"bg-gradient-to-r from-blue-500 to-purple-600\",children:\"\\u65B0\\u589E\\u5957\\u9910\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-blue-50 to-blue-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-blue-500 text-white\",children:/*#__PURE__*/_jsx(Package,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u603B\\u5957\\u9910\\u6570\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.length})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-green-50 to-green-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-green-500 text-white\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u542F\\u7528\\u5957\\u9910\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:data.filter(p=>p.status===1).length})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-amber-50 to-amber-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-amber-500 text-white\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u5E73\\u5747\\u4EF7\\u683C\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[\"\\xA5\",data.length>0?(data.reduce((sum,p)=>sum+p.price,0)/data.length).toFixed(0):'0']})]})]})})}),/*#__PURE__*/_jsx(Card,{className:\"bg-gradient-to-br from-purple-50 to-purple-100 border-0\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-lg bg-purple-500 text-white\",children:/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"\\u6700\\u9AD8\\u7B49\\u7EA7\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[\"L\",data.length>0?Math.max(...data.map(p=>p.level)):'0']})]})]})})})]}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-lg\",children:/*#__PURE__*/_jsx(CardBody,{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsx(Input,{placeholder:\"\\u641C\\u7D22\\u5957\\u9910\\u540D\\u79F0\\u6216\\u4ECB\\u7ECD...\",value:searchQuery,onValueChange:setSearchQuery,startContent:/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 text-gray-400\"}),className:\"flex-1\",variant:\"bordered\"}),/*#__PURE__*/_jsx(Select,{placeholder:\"\\u9009\\u62E9\\u5206\\u7C7B\",value:selectedCategory,onSelectionChange:keys=>setSelectedCategory(Array.from(keys)[0]),className:\"w-full sm:w-40\",variant:\"bordered\",children:categories.map(category=>/*#__PURE__*/_jsx(SelectItem,{value:category.key,children:category.label},category.key))}),/*#__PURE__*/_jsx(Select,{placeholder:\"\\u9009\\u62E9\\u72B6\\u6001\",value:selectedStatus,onSelectionChange:keys=>setSelectedStatus(Array.from(keys)[0]),className:\"w-full sm:w-40\",variant:\"bordered\",children:statuses.map(status=>/*#__PURE__*/_jsx(SelectItem,{value:status.key,children:status.label},status.key))})]})})}),/*#__PURE__*/_jsx(Card,{className:\"border-0 shadow-lg\",children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"\\u5957\\u9910\\u6570\\u636E\\u8868\\u683C\",isHeaderSticky:true,classNames:{wrapper:\"max-h-[600px]\"},bottomContent:totalPages>1?/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full justify-center\",children:/*#__PURE__*/_jsx(Pagination,{isCompact:true,showControls:true,showShadow:true,color:\"primary\",page:currentPage,total:totalPages,onChange:setCurrentPage})}):null,children:[/*#__PURE__*/_jsx(TableHeader,{columns:columns,children:column=>/*#__PURE__*/_jsx(TableColumn,{allowsSorting:column.sortable,children:column.name},column.uid)}),/*#__PURE__*/_jsx(TableBody,{items:paginatedData,loadingContent:/*#__PURE__*/_jsx(Spinner,{}),isLoading:loading,emptyContent:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"\\u6682\\u65E0\\u5957\\u9910\\u6570\\u636E\"})]}),children:item=>/*#__PURE__*/_jsx(TableRow,{children:columnKey=>/*#__PURE__*/_jsx(TableCell,{children:renderCell(item,columnKey)})},item.id)})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onOpenChange:onOpenChange,size:\"3xl\",scrollBehavior:\"inside\",children:/*#__PURE__*/_jsx(ModalContent,{children:onClose=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ModalHeader,{className:\"flex flex-col gap-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:editingRecord?'编辑套餐':'新增套餐'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:editingRecord?'修改套餐信息':'创建新的套餐配置'})]}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u5957\\u9910\\u540D\\u79F0\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5957\\u9910\\u540D\\u79F0\",value:formData.package_name,onChange:e=>setFormData({...formData,package_name:e.target.value}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsxs(Select,{label:\"\\u5206\\u7C7B\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u5206\\u7C7B\",selectedKeys:[formData.category],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,category:value});},variant:\"bordered\",children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4E2A\\u4EBA\\u7248\"},\"personal\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4F01\\u4E1A\\u7248\"},\"enterprise\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u9AD8\\u7EA7\\u7248\"},\"premium\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u4EF7\\u683C(\\u5143)\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4EF7\\u683C\",type:\"number\",step:\"0.01\",value:formData.price,onChange:e=>setFormData({...formData,price:e.target.value}),startContent:/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4 text-gray-400\"}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsx(Input,{label:\"\\u65F6\\u957F(\\u5929)\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u65F6\\u957F\",type:\"number\",value:formData.duration,onChange:e=>setFormData({...formData,duration:e.target.value}),startContent:/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4 text-gray-400\"}),isRequired:true,variant:\"bordered\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u7B49\\u7EA7\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u7B49\\u7EA7\",type:\"number\",value:formData.level,onChange:e=>setFormData({...formData,level:e.target.value}),startContent:/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-gray-400\"}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsx(Input,{label:\"\\u4F18\\u5148\\u7EA7\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4F18\\u5148\\u7EA7\",type:\"number\",value:formData.priority,onChange:e=>setFormData({...formData,priority:e.target.value}),isRequired:true,variant:\"bordered\"}),/*#__PURE__*/_jsxs(Select,{label:\"\\u72B6\\u6001\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u72B6\\u6001\",selectedKeys:[formData.status],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,status:value});},variant:\"bordered\",children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u542F\\u7528\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u7981\\u7528\"},\"0\")]})]}),/*#__PURE__*/_jsx(Textarea,{label:\"\\u5957\\u9910\\u4ECB\\u7ECD\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5957\\u9910\\u7684\\u8BE6\\u7EC6\\u4ECB\\u7ECD...\",value:formData.introduce,onChange:e=>setFormData({...formData,introduce:e.target.value}),maxRows:4,variant:\"bordered\"}),/*#__PURE__*/_jsx(Textarea,{label:\"\\u5907\\u6CE8\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\\u4FE1\\u606F...\",value:formData.remarks,onChange:e=>setFormData({...formData,remarks:e.target.value}),maxRows:3,variant:\"bordered\"})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",onPress:onClose,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onPress:handleSave,className:\"bg-gradient-to-r from-blue-500 to-purple-600\",children:\"\\u4FDD\\u5B58\"})]})]})})})]});};export default AdminPackages;","map":{"version":3,"names":["React","useState","useEffect","Card","CardBody","Button","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Input","Textarea","Select","SelectItem","Chip","useDisclosure","Table","TableHeader","TableColumn","TableBody","TableRow","TableCell","Pagination","Spinner","Avatar","Plus","Edit","Trash2","RefreshCw","Package","Search","Eye","Calendar","DollarSign","Clock","Star","packageApi","motion","showMessage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPackages","data","setData","filteredData","setFilteredData","loading","setLoading","editingRecord","setEditingRecord","searchQuery","setSearchQuery","selectedCategory","setSelectedCategory","selectedStatus","setSelectedStatus","currentPage","setCurrentPage","pageSize","isOpen","onOpen","onOpenChange","formData","setFormData","package_name","category","price","duration","introduce","level","priority","remarks","status","categories","key","label","statuses","loadData","result","list","page","limit","packages","Array","isArray","error","message","filtered","filter","pkg","toLowerCase","includes","String","handleAdd","handleEdit","record","handleDelete","id","name","window","confirm","delete","success","handleSave","saveData","parseFloat","parseInt","update","create","getCategoryInfo","categoryMap","color","icon","getLevelColor","startIndex","endIndex","paginatedData","slice","totalPages","Math","ceil","length","columns","uid","sortable","renderCell","columnKey","cellValue","categoryInfo","className","children","showFallback","fallback","size","variant","toFixed","created_at","Date","toLocaleDateString","onPress","startContent","div","initial","opacity","y","animate","transition","isLoading","p","reduce","sum","max","map","placeholder","value","onValueChange","onSelectionChange","keys","from","isHeaderSticky","classNames","wrapper","bottomContent","isCompact","showControls","showShadow","total","onChange","column","allowsSorting","items","loadingContent","emptyContent","item","scrollBehavior","onClose","e","target","isRequired","selectedKeys","type","step","maxRows"],"sources":["/opt/dev/star_share/web/src/pages/admin/AdminPackages.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  CardBody,\n  CardHeader,\n  Button, \n  Modal, \n  ModalContent, \n  ModalHeader, \n  ModalBody, \n  ModalFooter,\n  Input,\n  Textarea,\n  Select,\n  SelectItem,\n  Chip,\n  useDisclosure,\n  Table,\n  TableHeader,\n  TableColumn,\n  TableBody,\n  TableRow,\n  TableCell,\n  Pagination,\n  Dropdown,\n  DropdownTrigger,\n  DropdownMenu,\n  DropdownItem,\n  Spinner,\n  Divider,\n  Avatar\n} from '@heroui/react';\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  RefreshCw, \n  Package, \n  Search,\n  Filter,\n  MoreVertical,\n  Eye,\n  Calendar,\n  DollarSign,\n  Clock,\n  Star\n} from 'lucide-react';\nimport { packageApi } from '../../services/api';\nimport { motion } from 'framer-motion';\nimport { showMessage } from '../../utils/toast';\n\ninterface Package {\n  id: number;\n  package_name: string;\n  category: string;\n  price: number;\n  duration: number;\n  introduce?: string;\n  level: number;\n  priority: number;\n  remarks?: string;\n  status?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nconst AdminPackages: React.FC = () => {\n  const [data, setData] = useState<Package[]>([]);\n  const [filteredData, setFilteredData] = useState<Package[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [editingRecord, setEditingRecord] = useState<Package | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n  const [selectedStatus, setSelectedStatus] = useState<string>('all');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(10);\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\n\n  // 表单数据\n  const [formData, setFormData] = useState({\n    package_name: '',\n    category: 'personal',\n    price: '',\n    duration: '',\n    introduce: '',\n    level: '',\n    priority: '',\n    remarks: '',\n    status: '1'\n  });\n\n  // 分类选项\n  const categories = [\n    { key: 'all', label: '全部分类' },\n    { key: 'personal', label: '个人版' },\n    { key: 'enterprise', label: '企业版' },\n    { key: 'premium', label: '高级版' },\n  ];\n\n  // 状态选项\n  const statuses = [\n    { key: 'all', label: '全部状态' },\n    { key: '1', label: '启用' },\n    { key: '0', label: '禁用' },\n  ];\n\n  // 加载数据\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const result = await packageApi.list({\n        page: 1,\n        limit: 100,\n      });\n      \n      const packages = Array.isArray(result.data) ? result.data : [];\n      setData(packages);\n      setFilteredData(packages);\n    } catch (error: any) {\n      showMessage.error(error.message || '加载数据失败');\n      setData([]);\n      setFilteredData([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 过滤数据\n  useEffect(() => {\n    let filtered = data;\n\n    // 按搜索查询过滤\n    if (searchQuery) {\n      filtered = filtered.filter(pkg => \n        pkg.package_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (pkg.introduce && pkg.introduce.toLowerCase().includes(searchQuery.toLowerCase()))\n      );\n    }\n\n    // 按分类过滤\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(pkg => pkg.category === selectedCategory);\n    }\n\n    // 按状态过滤\n    if (selectedStatus !== 'all') {\n      filtered = filtered.filter(pkg => String(pkg.status) === selectedStatus);\n    }\n\n    setFilteredData(filtered);\n    setCurrentPage(1);\n  }, [data, searchQuery, selectedCategory, selectedStatus]);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // 新增套餐\n  const handleAdd = () => {\n    setEditingRecord(null);\n    setFormData({\n      package_name: '',\n      category: 'personal',\n      price: '',\n      duration: '',\n      introduce: '',\n      level: '',\n      priority: '',\n      remarks: '',\n      status: '1'\n    });\n    onOpen();\n  };\n\n  // 编辑套餐\n  const handleEdit = (record: Package) => {\n    setEditingRecord(record);\n    setFormData({\n      package_name: record.package_name,\n      category: record.category,\n      price: String(record.price),\n      duration: String(record.duration),\n      introduce: record.introduce || '',\n      level: String(record.level),\n      priority: String(record.priority),\n      remarks: record.remarks || '',\n      status: String(record.status || 1)\n    });\n    onOpen();\n  };\n\n  // 删除套餐\n  const handleDelete = async (id: number, name: string) => {\n    if (!window.confirm(`确定删除套餐 \"${name}\" 吗？`)) return;\n    \n    try {\n      await packageApi.delete(id);\n      showMessage.success('删除成功');\n      loadData();\n    } catch (error: any) {\n      showMessage.error(error.message || '删除失败');\n    }\n  };\n\n  // 保存套餐\n  const handleSave = async () => {\n    try {\n      const saveData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        duration: parseInt(formData.duration),\n        level: parseInt(formData.level),\n        priority: parseInt(formData.priority),\n        status: parseInt(formData.status)\n      };\n\n      if (editingRecord) {\n        await packageApi.update({ id: editingRecord.id, ...saveData });\n        showMessage.success('更新成功');\n      } else {\n        await packageApi.create(saveData);\n        showMessage.success('创建成功');\n      }\n      \n      onOpenChange();\n      loadData();\n    } catch (error: any) {\n      showMessage.error(error.message || '保存失败');\n    }\n  };\n\n  const getCategoryInfo = (category: string) => {\n    const categoryMap: { [key: string]: { label: string, color: any, icon: string } } = {\n      'personal': { label: '个人版', color: 'primary', icon: '👤' },\n      'enterprise': { label: '企业版', color: 'success', icon: '🏢' },\n      'premium': { label: '高级版', color: 'secondary', icon: '⭐' },\n    };\n    return categoryMap[category] || { label: category, color: 'default', icon: '📦' };\n  };\n\n  const getLevelColor = (level: number) => {\n    if (level >= 5) return 'danger';\n    if (level >= 3) return 'warning';\n    return 'success';\n  };\n\n  // 分页数据\n  const startIndex = (currentPage - 1) * pageSize;\n  const endIndex = startIndex + pageSize;\n  const paginatedData = filteredData.slice(startIndex, endIndex);\n  const totalPages = Math.ceil(filteredData.length / pageSize);\n\n  const columns = [\n    { name: \"套餐信息\", uid: \"package_info\", sortable: true },\n    { name: \"价格\", uid: \"price\", sortable: true },\n    { name: \"时长\", uid: \"duration\", sortable: true },\n    { name: \"等级\", uid: \"level\", sortable: true },\n    { name: \"状态\", uid: \"status\", sortable: true },\n    { name: \"创建时间\", uid: \"created_at\", sortable: true },\n    { name: \"操作\", uid: \"actions\" },\n  ];\n\n  const renderCell = (pkg: Package, columnKey: React.Key) => {\n    const cellValue = pkg[columnKey as keyof Package];\n    const categoryInfo = getCategoryInfo(pkg.category);\n\n    switch (columnKey) {\n      case \"package_info\":\n        return (\n          <div className=\"flex items-start gap-3\">\n            <Avatar\n              showFallback\n              fallback={<Package className=\"w-4 h-4 text-gray-400\" />}\n              className=\"w-10 h-10\"\n              color={categoryInfo.color}\n            />\n            <div className=\"flex flex-col\">\n              <p className=\"text-sm font-semibold text-gray-900\">{pkg.package_name}</p>\n              <div className=\"flex items-center gap-2 mt-1\">\n                <Chip size=\"sm\" color={categoryInfo.color} variant=\"flat\">\n                  {categoryInfo.icon} {categoryInfo.label}\n                </Chip>\n                <span className=\"text-xs text-gray-500\">优先级: {pkg.priority}</span>\n              </div>\n              {pkg.introduce && (\n                <p className=\"text-xs text-gray-500 mt-1 line-clamp-2\">{pkg.introduce}</p>\n              )}\n            </div>\n          </div>\n        );\n      case \"price\":\n        return (\n          <div className=\"flex items-center gap-1\">\n            <DollarSign className=\"w-4 h-4 text-green-500\" />\n            <span className=\"text-sm font-semibold text-green-600\">¥{pkg.price.toFixed(2)}</span>\n          </div>\n        );\n      case \"duration\":\n        return (\n          <div className=\"flex items-center gap-1\">\n            <Clock className=\"w-4 h-4 text-blue-500\" />\n            <span className=\"text-sm text-gray-900\">{pkg.duration}天</span>\n          </div>\n        );\n      case \"level\":\n        return (\n          <div className=\"flex items-center gap-1\">\n            <Star className=\"w-4 h-4 text-amber-500\" />\n            <Chip size=\"sm\" color={getLevelColor(pkg.level)} variant=\"flat\">\n              L{pkg.level}\n            </Chip>\n          </div>\n        );\n      case \"status\":\n        return (\n          <Chip\n            size=\"sm\"\n            color={pkg.status === 1 ? 'success' : 'danger'}\n            variant=\"flat\"\n          >\n            {pkg.status === 1 ? '启用' : '禁用'}\n          </Chip>\n        );\n      case \"created_at\":\n        return (\n          <div className=\"flex items-center gap-1\">\n            <Calendar className=\"w-4 h-4 text-gray-400\" />\n            <span className=\"text-xs text-gray-500\">\n              {pkg.created_at ? new Date(pkg.created_at).toLocaleDateString() : '-'}\n            </span>\n          </div>\n        );\n      case \"actions\":\n        return (\n          <div className=\"flex items-center gap-2\">\n            <Button\n              size=\"sm\"\n              variant=\"light\"\n              color=\"primary\"\n              onPress={() => handleEdit(pkg)}\n              startContent={<Edit className=\"w-4 h-4\" />}\n            >\n              编辑\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"light\"\n              color=\"danger\"\n              onPress={() => handleDelete(pkg.id, pkg.package_name)}\n              startContent={<Trash2 className=\"w-4 h-4\" />}\n            >\n              删除\n            </Button>\n          </div>\n        );\n      default:\n        return cellValue;\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className=\"space-y-6\"\n    >\n      {/* 页面标题 */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent\">\n            套餐管理\n          </h1>\n          <p className=\"text-gray-600 mt-1\">管理系统中的所有套餐配置</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Button\n            variant=\"flat\"\n            startContent={<RefreshCw className=\"w-4 h-4\" />}\n            onPress={loadData}\n            isLoading={loading}\n          >\n            刷新数据\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"shadow\"\n            startContent={<Plus className=\"w-4 h-4\" />}\n            onPress={handleAdd}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600\"\n          >\n            新增套餐\n          </Button>\n        </div>\n      </div>\n\n      {/* 统计卡片 */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"bg-gradient-to-br from-blue-50 to-blue-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-blue-500 text-white\">\n                <Package className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">总套餐数</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{data.length}</p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-green-50 to-green-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-green-500 text-white\">\n                <Eye className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">启用套餐</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {data.filter(p => p.status === 1).length}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-amber-50 to-amber-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-amber-500 text-white\">\n                <DollarSign className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">平均价格</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  ¥{data.length > 0 ? (data.reduce((sum, p) => sum + p.price, 0) / data.length).toFixed(0) : '0'}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n        <Card className=\"bg-gradient-to-br from-purple-50 to-purple-100 border-0\">\n          <CardBody className=\"p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"p-2 rounded-lg bg-purple-500 text-white\">\n                <Star className=\"w-5 h-5\" />\n              </div>\n              <div>\n                <p className=\"text-sm text-gray-600\">最高等级</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  L{data.length > 0 ? Math.max(...data.map(p => p.level)) : '0'}\n                </p>\n              </div>\n            </div>\n          </CardBody>\n        </Card>\n      </div>\n\n      {/* 搜索和过滤 */}\n      <Card className=\"border-0 shadow-lg\">\n        <CardBody className=\"p-6\">\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <Input\n              placeholder=\"搜索套餐名称或介绍...\"\n              value={searchQuery}\n              onValueChange={setSearchQuery}\n              startContent={<Search className=\"w-4 h-4 text-gray-400\" />}\n              className=\"flex-1\"\n              variant=\"bordered\"\n            />\n            <Select\n              placeholder=\"选择分类\"\n              value={selectedCategory}\n              onSelectionChange={(keys) => setSelectedCategory(Array.from(keys)[0] as string)}\n              className=\"w-full sm:w-40\"\n              variant=\"bordered\"\n            >\n              {categories.map((category) => (\n                <SelectItem key={category.key} value={category.key}>\n                  {category.label}\n                </SelectItem>\n              ))}\n            </Select>\n            <Select\n              placeholder=\"选择状态\"\n              value={selectedStatus}\n              onSelectionChange={(keys) => setSelectedStatus(Array.from(keys)[0] as string)}\n              className=\"w-full sm:w-40\"\n              variant=\"bordered\"\n            >\n              {statuses.map((status) => (\n                <SelectItem key={status.key} value={status.key}>\n                  {status.label}\n                </SelectItem>\n              ))}\n            </Select>\n          </div>\n        </CardBody>\n      </Card>\n\n      {/* 数据表格 */}\n      <Card className=\"border-0 shadow-lg\">\n        <Table\n          aria-label=\"套餐数据表格\"\n          isHeaderSticky\n          classNames={{\n            wrapper: \"max-h-[600px]\",\n          }}\n          bottomContent={\n            totalPages > 1 ? (\n              <div className=\"flex w-full justify-center\">\n                <Pagination\n                  isCompact\n                  showControls\n                  showShadow\n                  color=\"primary\"\n                  page={currentPage}\n                  total={totalPages}\n                  onChange={setCurrentPage}\n                />\n              </div>\n            ) : null\n          }\n        >\n          <TableHeader columns={columns}>\n            {(column) => (\n              <TableColumn key={column.uid} allowsSorting={column.sortable}>\n                {column.name}\n              </TableColumn>\n            )}\n          </TableHeader>\n          <TableBody\n            items={paginatedData}\n            loadingContent={<Spinner />}\n            isLoading={loading}\n            emptyContent={\n              <div className=\"text-center py-8\">\n                <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-500\">暂无套餐数据</p>\n              </div>\n            }\n          >\n            {(item) => (\n              <TableRow key={item.id}>\n                {(columnKey) => <TableCell>{renderCell(item, columnKey)}</TableCell>}\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </Card>\n\n      {/* 编辑/新增模态框 */}\n      <Modal isOpen={isOpen} onOpenChange={onOpenChange} size=\"3xl\" scrollBehavior=\"inside\">\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader className=\"flex flex-col gap-1\">\n                <h3 className=\"text-xl font-bold\">\n                  {editingRecord ? '编辑套餐' : '新增套餐'}\n                </h3>\n                <p className=\"text-sm text-gray-500\">\n                  {editingRecord ? '修改套餐信息' : '创建新的套餐配置'}\n                </p>\n              </ModalHeader>\n              <ModalBody>\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Input\n                      label=\"套餐名称\"\n                      placeholder=\"请输入套餐名称\"\n                      value={formData.package_name}\n                      onChange={(e) => setFormData({...formData, package_name: e.target.value})}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                    \n                    <Select\n                      label=\"分类\"\n                      placeholder=\"请选择分类\"\n                      selectedKeys={[formData.category]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({...formData, category: value});\n                      }}\n                      variant=\"bordered\"\n                    >\n                      <SelectItem key=\"personal\">个人版</SelectItem>\n                      <SelectItem key=\"enterprise\">企业版</SelectItem>\n                      <SelectItem key=\"premium\">高级版</SelectItem>\n                    </Select>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <Input\n                      label=\"价格(元)\"\n                      placeholder=\"请输入价格\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={formData.price}\n                      onChange={(e) => setFormData({...formData, price: e.target.value})}\n                      startContent={<DollarSign className=\"w-4 h-4 text-gray-400\" />}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                    \n                    <Input\n                      label=\"时长(天)\"\n                      placeholder=\"请输入时长\"\n                      type=\"number\"\n                      value={formData.duration}\n                      onChange={(e) => setFormData({...formData, duration: e.target.value})}\n                      startContent={<Clock className=\"w-4 h-4 text-gray-400\" />}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    <Input\n                      label=\"等级\"\n                      placeholder=\"请输入等级\"\n                      type=\"number\"\n                      value={formData.level}\n                      onChange={(e) => setFormData({...formData, level: e.target.value})}\n                      startContent={<Star className=\"w-4 h-4 text-gray-400\" />}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                    \n                    <Input\n                      label=\"优先级\"\n                      placeholder=\"请输入优先级\"\n                      type=\"number\"\n                      value={formData.priority}\n                      onChange={(e) => setFormData({...formData, priority: e.target.value})}\n                      isRequired\n                      variant=\"bordered\"\n                    />\n                    \n                    <Select\n                      label=\"状态\"\n                      placeholder=\"请选择状态\"\n                      selectedKeys={[formData.status]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({...formData, status: value});\n                      }}\n                      variant=\"bordered\"\n                    >\n                      <SelectItem key=\"1\">启用</SelectItem>\n                      <SelectItem key=\"0\">禁用</SelectItem>\n                    </Select>\n                  </div>\n                  \n                  <Textarea\n                    label=\"套餐介绍\"\n                    placeholder=\"请输入套餐的详细介绍...\"\n                    value={formData.introduce}\n                    onChange={(e) => setFormData({...formData, introduce: e.target.value})}\n                    maxRows={4}\n                    variant=\"bordered\"\n                  />\n                  \n                  <Textarea\n                    label=\"备注\"\n                    placeholder=\"请输入备注信息...\"\n                    value={formData.remarks}\n                    onChange={(e) => setFormData({...formData, remarks: e.target.value})}\n                    maxRows={3}\n                    variant=\"bordered\"\n                  />\n                </div>\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose}>\n                  取消\n                </Button>\n                <Button \n                  color=\"primary\" \n                  onPress={handleSave}\n                  className=\"bg-gradient-to-r from-blue-500 to-purple-600\"\n                >\n                  保存\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </motion.div>\n  );\n};\n\nexport default AdminPackages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"/**\n * Toast 通知组件\n * 提供美观的页面级别消息提示\n */import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{X,CheckCircle,AlertCircle,AlertTriangle,Info}from'lucide-react';import{toast}from'../utils/toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ToastItem=_ref=>{let{toast:toastData,onClose}=_ref;const{id,type,message,duration,closable}=toastData;useEffect(()=>{if(duration>0){const timer=setTimeout(()=>{onClose(id);},duration);return()=>clearTimeout(timer);}},[id,duration,onClose]);const getToastStyle=()=>{switch(type){case'success':return{bgColor:'bg-green-50 border-green-200',textColor:'text-green-800',iconColor:'text-green-500',icon:CheckCircle};case'error':return{bgColor:'bg-red-50 border-red-200',textColor:'text-red-800',iconColor:'text-red-500',icon:AlertCircle};case'warning':return{bgColor:'bg-yellow-50 border-yellow-200',textColor:'text-yellow-800',iconColor:'text-yellow-500',icon:AlertTriangle};case'info':return{bgColor:'bg-blue-50 border-blue-200',textColor:'text-blue-800',iconColor:'text-blue-500',icon:Info};default:return{bgColor:'bg-gray-50 border-gray-200',textColor:'text-gray-800',iconColor:'text-gray-500',icon:Info};}};const{bgColor,textColor,iconColor,icon:IconComponent}=getToastStyle();return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-50,scale:0.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:0.95},transition:{duration:0.2},className:`relative ${bgColor} border rounded-lg p-4 shadow-lg max-w-md w-full`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:`flex-shrink-0 ${iconColor} mr-3`,children:/*#__PURE__*/_jsx(IconComponent,{size:20})}),/*#__PURE__*/_jsx(\"div\",{className:`flex-1 ${textColor} text-sm font-medium`,children:message}),closable&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onClose(id),className:`flex-shrink-0 ml-3 ${iconColor} hover:opacity-70 transition-opacity`,children:/*#__PURE__*/_jsx(X,{size:16})})]})});};export const ToastContainer=()=>{const[toasts,setToasts]=useState([]);useEffect(()=>{const unsubscribe=toast.subscribe(newToast=>{setToasts(prev=>[...prev,newToast]);});return unsubscribe;},[]);const removeToast=id=>{setToasts(prev=>prev.filter(t=>t.id!==id));};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-4 right-4 z-50 space-y-2\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:toasts.map(toastData=>/*#__PURE__*/_jsx(ToastItem,{toast:toastData,onClose:removeToast},toastData.id))})});};","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","X","CheckCircle","AlertCircle","AlertTriangle","Info","toast","jsx","_jsx","jsxs","_jsxs","ToastItem","_ref","toastData","onClose","id","type","message","duration","closable","timer","setTimeout","clearTimeout","getToastStyle","bgColor","textColor","iconColor","icon","IconComponent","div","initial","opacity","y","scale","animate","exit","transition","className","children","size","onClick","ToastContainer","toasts","setToasts","unsubscribe","subscribe","newToast","prev","removeToast","filter","t","map"],"sources":["/opt/dev/star_share/web/src/components/Toast.tsx"],"sourcesContent":["/**\n * Toast 通知组件\n * 提供美观的页面级别消息提示\n */\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, CheckCircle, AlertCircle, AlertTriangle, Info } from 'lucide-react';\nimport { toast, ToastInstance } from '../utils/toast';\n\ninterface ToastProps {\n  toast: ToastInstance;\n  onClose: (id: string) => void;\n}\n\nconst ToastItem: React.FC<ToastProps> = ({ toast: toastData, onClose }) => {\n  const { id, type, message, duration, closable } = toastData;\n\n  useEffect(() => {\n    if (duration > 0) {\n      const timer = setTimeout(() => {\n        onClose(id);\n      }, duration);\n\n      return () => clearTimeout(timer);\n    }\n  }, [id, duration, onClose]);\n\n  const getToastStyle = () => {\n    switch (type) {\n      case 'success':\n        return {\n          bgColor: 'bg-green-50 border-green-200',\n          textColor: 'text-green-800',\n          iconColor: 'text-green-500',\n          icon: CheckCircle\n        };\n      case 'error':\n        return {\n          bgColor: 'bg-red-50 border-red-200',\n          textColor: 'text-red-800',\n          iconColor: 'text-red-500',\n          icon: AlertCircle\n        };\n      case 'warning':\n        return {\n          bgColor: 'bg-yellow-50 border-yellow-200',\n          textColor: 'text-yellow-800',\n          iconColor: 'text-yellow-500',\n          icon: AlertTriangle\n        };\n      case 'info':\n        return {\n          bgColor: 'bg-blue-50 border-blue-200',\n          textColor: 'text-blue-800',\n          iconColor: 'text-blue-500',\n          icon: Info\n        };\n      default:\n        return {\n          bgColor: 'bg-gray-50 border-gray-200',\n          textColor: 'text-gray-800',\n          iconColor: 'text-gray-500',\n          icon: Info\n        };\n    }\n  };\n\n  const { bgColor, textColor, iconColor, icon: IconComponent } = getToastStyle();\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -50, scale: 0.95 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, y: -20, scale: 0.95 }}\n      transition={{ duration: 0.2 }}\n      className={`relative ${bgColor} border rounded-lg p-4 shadow-lg max-w-md w-full`}\n    >\n      <div className=\"flex items-start\">\n        <div className={`flex-shrink-0 ${iconColor} mr-3`}>\n          <IconComponent size={20} />\n        </div>\n        <div className={`flex-1 ${textColor} text-sm font-medium`}>\n          {message}\n        </div>\n        {closable && (\n          <button\n            onClick={() => onClose(id)}\n            className={`flex-shrink-0 ml-3 ${iconColor} hover:opacity-70 transition-opacity`}\n          >\n            <X size={16} />\n          </button>\n        )}\n      </div>\n    </motion.div>\n  );\n};\n\nexport const ToastContainer: React.FC = () => {\n  const [toasts, setToasts] = useState<ToastInstance[]>([]);\n\n  useEffect(() => {\n    const unsubscribe = toast.subscribe((newToast) => {\n      setToasts(prev => [...prev, newToast]);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const removeToast = (id: string) => {\n    setToasts(prev => prev.filter(t => t.id !== id));\n  };\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      <AnimatePresence>\n        {toasts.map((toastData) => (\n          <ToastItem\n            key={toastData.id}\n            toast={toastData}\n            onClose={removeToast}\n          />\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
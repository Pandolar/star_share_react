{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Button,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Input,Textarea,Select,SelectItem,Chip,useDisclosure}from'@heroui/react';import{Plus,Edit,Trash2,RefreshCw,Package}from'lucide-react';import{packageApi}from'../../services/api';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPackages=()=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const[editingRecord,setEditingRecord]=useState(null);const{isOpen,onOpen,onOpenChange}=useDisclosure();// 表单数据\nconst[formData,setFormData]=useState({package_name:'',category:'personal',price:'',duration:'',introduce:'',level:'',priority:'',remarks:'',status:'1'});// 加载数据\nconst loadData=async()=>{setLoading(true);try{const result=await packageApi.list({page:1,limit:50});setData(Array.isArray(result.data)?result.data:[]);}catch(error){console.error('加载数据失败:',error.message);setData([]);}finally{setLoading(false);}};useEffect(()=>{loadData();},[]);// 新增套餐\nconst handleAdd=()=>{setEditingRecord(null);setFormData({package_name:'',category:'personal',price:'',duration:'',introduce:'',level:'',priority:'',remarks:'',status:'1'});onOpen();};// 编辑套餐\nconst handleEdit=record=>{setEditingRecord(record);setFormData({package_name:record.package_name,category:record.category,price:String(record.price),duration:String(record.duration),introduce:record.introduce||'',level:String(record.level),priority:String(record.priority),remarks:record.remarks||'',status:String(record.status||1)});onOpen();};// 删除套餐\nconst handleDelete=async id=>{if(!confirm('确定删除这个套餐吗？'))return;try{await packageApi.delete(id);alert('删除成功');loadData();}catch(error){alert(error.message||'删除失败');}};// 保存套餐\nconst handleSave=async()=>{try{const saveData={...formData,price:parseFloat(formData.price),duration:parseInt(formData.duration),level:parseInt(formData.level),priority:parseInt(formData.priority),status:parseInt(formData.status)};if(editingRecord){await packageApi.update({...editingRecord,...saveData});alert('更新成功');}else{await packageApi.create(saveData);alert('创建成功');}onOpenChange();loadData();}catch(error){alert(error.message||'保存失败');}};const getCategoryColor=category=>{const colorMap={'个人':'primary','企业':'success','高级':'secondary'};return colorMap[category]||'default';};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"p-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"\\u5957\\u9910\\u7BA1\\u7406\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",startContent:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),onClick:loadData,isLoading:loading,children:\"\\u5237\\u65B0\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",startContent:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),onClick:handleAdd,children:\"\\u65B0\\u589E\\u5957\\u9910\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"\\u52A0\\u8F7D\\u4E2D...\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u6682\\u65E0\\u6570\\u636E\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:data.map(pkg=>/*#__PURE__*/_jsx(Card,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-8 h-8 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-lg\",children:pkg.package_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mt-1\",children:[\"\\u4EF7\\u683C: \\xA5\",pkg.price.toFixed(2),\" \\xB7 \\u65F6\\u957F: \",pkg.duration,\"\\u5929 \\xB7 \\u7B49\\u7EA7: L\",pkg.level]}),pkg.introduce&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400 mt-1\",children:pkg.introduce})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(Chip,{color:getCategoryColor(pkg.category),variant:\"flat\",size:\"sm\",children:pkg.category}),/*#__PURE__*/_jsx(Chip,{color:pkg.status===1?'success':'danger',variant:\"flat\",size:\"sm\",children:pkg.status===1?'启用':'禁用'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"flat\",isIconOnly:true,onClick:()=>handleEdit(pkg),children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"flat\",color:\"danger\",isIconOnly:true,onClick:()=>handleDelete(pkg.id),children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]})},pkg.id))})})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onOpenChange:onOpenChange,size:\"3xl\",children:/*#__PURE__*/_jsx(ModalContent,{children:onClose=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:editingRecord?'编辑套餐':'新增套餐'}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u5957\\u9910\\u540D\\u79F0\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5957\\u9910\\u540D\\u79F0\",value:formData.package_name,onChange:e=>setFormData({...formData,package_name:e.target.value}),isRequired:true}),/*#__PURE__*/_jsxs(Select,{label:\"\\u5206\\u7C7B\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u5206\\u7C7B\",selectedKeys:[formData.category],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,category:value});},children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4E2A\\u4EBA\"},\"个人\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4F01\\u4E1A\"},\"企业\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u9AD8\\u7EA7\"},\"高级\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u4EF7\\u683C(\\u5143)\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4EF7\\u683C\",type:\"number\",value:formData.price,onChange:e=>setFormData({...formData,price:e.target.value}),isRequired:true}),/*#__PURE__*/_jsx(Input,{label:\"\\u65F6\\u957F(\\u5929)\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u65F6\\u957F\",type:\"number\",value:formData.duration,onChange:e=>setFormData({...formData,duration:e.target.value}),isRequired:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"\\u7B49\\u7EA7\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u7B49\\u7EA7\",type:\"number\",value:formData.level,onChange:e=>setFormData({...formData,level:e.target.value}),isRequired:true}),/*#__PURE__*/_jsx(Input,{label:\"\\u4F18\\u5148\\u7EA7\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u4F18\\u5148\\u7EA7\",type:\"number\",value:formData.priority,onChange:e=>setFormData({...formData,priority:e.target.value}),isRequired:true}),/*#__PURE__*/_jsxs(Select,{label:\"\\u72B6\\u6001\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u72B6\\u6001\",selectedKeys:[formData.status],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,status:value});},children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u542F\\u7528\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u7981\\u7528\"},\"0\")]})]}),/*#__PURE__*/_jsx(Textarea,{label:\"\\u4ECB\\u7ECD\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5957\\u9910\\u4ECB\\u7ECD\",value:formData.introduce,onChange:e=>setFormData({...formData,introduce:e.target.value}),maxRows:3}),/*#__PURE__*/_jsx(Textarea,{label:\"\\u5907\\u6CE8\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\",value:formData.remarks,onChange:e=>setFormData({...formData,remarks:e.target.value}),maxRows:2})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",onPress:onClose,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onPress:()=>{handleSave();onClose();},children:\"\\u4FDD\\u5B58\"})]})]})})})]});};export default AdminPackages;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Input","Textarea","Select","SelectItem","Chip","useDisclosure","Plus","Edit","Trash2","RefreshCw","Package","packageApi","motion","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPackages","data","setData","loading","setLoading","editingRecord","setEditingRecord","isOpen","onOpen","onOpenChange","formData","setFormData","package_name","category","price","duration","introduce","level","priority","remarks","status","loadData","result","list","page","limit","Array","isArray","error","console","message","handleAdd","handleEdit","record","String","handleDelete","id","confirm","delete","alert","handleSave","saveData","parseFloat","parseInt","update","create","getCategoryColor","colorMap","div","initial","opacity","y","animate","transition","className","children","variant","startContent","onClick","isLoading","color","length","map","pkg","toFixed","size","isIconOnly","onClose","label","placeholder","value","onChange","e","target","isRequired","selectedKeys","onSelectionChange","keys","from","type","maxRows","onPress"],"sources":["/opt/dev/star_share/web/src/pages/admin/AdminPackages.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  Button, \n  Modal, \n  ModalContent, \n  ModalHeader, \n  ModalBody, \n  ModalFooter,\n  Input,\n  Textarea,\n  Select,\n  SelectItem,\n  Chip,\n  useDisclosure\n} from '@heroui/react';\nimport { Plus, Edit, Trash2, RefreshCw, Package } from 'lucide-react';\nimport { packageApi } from '../../services/api';\nimport { motion } from 'framer-motion';\n\ninterface Package {\n  id: number;\n  package_name: string;\n  category: string;\n  price: number;\n  duration: number;\n  introduce?: string;\n  level: number;\n  priority: number;\n  remarks?: string;\n  status?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nconst AdminPackages: React.FC = () => {\n  const [data, setData] = useState<Package[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [editingRecord, setEditingRecord] = useState<Package | null>(null);\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\n\n  // 表单数据\n  const [formData, setFormData] = useState({\n    package_name: '',\n    category: 'personal',\n    price: '',\n    duration: '',\n    introduce: '',\n    level: '',\n    priority: '',\n    remarks: '',\n    status: '1'\n  });\n\n  // 加载数据\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const result = await packageApi.list({\n        page: 1,\n        limit: 50,\n      });\n      \n      setData(Array.isArray(result.data) ? result.data : []);\n    } catch (error: any) {\n      console.error('加载数据失败:', error.message);\n      setData([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // 新增套餐\n  const handleAdd = () => {\n    setEditingRecord(null);\n    setFormData({\n      package_name: '',\n      category: 'personal',\n      price: '',\n      duration: '',\n      introduce: '',\n      level: '',\n      priority: '',\n      remarks: '',\n      status: '1'\n    });\n    onOpen();\n  };\n\n  // 编辑套餐\n  const handleEdit = (record: Package) => {\n    setEditingRecord(record);\n    setFormData({\n      package_name: record.package_name,\n      category: record.category,\n      price: String(record.price),\n      duration: String(record.duration),\n      introduce: record.introduce || '',\n      level: String(record.level),\n      priority: String(record.priority),\n      remarks: record.remarks || '',\n      status: String(record.status || 1)\n    });\n    onOpen();\n  };\n\n  // 删除套餐\n  const handleDelete = async (id: number) => {\n    if (!confirm('确定删除这个套餐吗？')) return;\n    \n    try {\n      await packageApi.delete(id);\n      alert('删除成功');\n      loadData();\n    } catch (error: any) {\n      alert(error.message || '删除失败');\n    }\n  };\n\n  // 保存套餐\n  const handleSave = async () => {\n    try {\n      const saveData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        duration: parseInt(formData.duration),\n        level: parseInt(formData.level),\n        priority: parseInt(formData.priority),\n        status: parseInt(formData.status)\n      };\n\n      if (editingRecord) {\n        await packageApi.update({ ...editingRecord, ...saveData });\n        alert('更新成功');\n      } else {\n        await packageApi.create(saveData);\n        alert('创建成功');\n      }\n      \n      onOpenChange();\n      loadData();\n    } catch (error: any) {\n      alert(error.message || '保存失败');\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    const colorMap: { [key: string]: any } = {\n      '个人': 'primary',\n      '企业': 'success',\n      '高级': 'secondary',\n    };\n    return colorMap[category] || 'default';\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className=\"p-6\"\n    >\n      <Card className=\"w-full\">\n        {/* 页面标题 */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold\">套餐管理</h2>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"flat\"\n              startContent={<RefreshCw className=\"w-4 h-4\" />}\n              onClick={loadData}\n              isLoading={loading}\n            >\n              刷新\n            </Button>\n            <Button\n              color=\"primary\"\n              startContent={<Plus className=\"w-4 h-4\" />}\n              onClick={handleAdd}\n            >\n              新增套餐\n            </Button>\n          </div>\n        </div>\n\n        {/* 简化的数据展示 */}\n        <div className=\"space-y-4\">\n          {loading ? (\n            <div className=\"text-center py-8\">加载中...</div>\n          ) : data.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">暂无数据</div>\n          ) : (\n            <div className=\"grid gap-4\">\n              {data.map((pkg) => (\n                <Card key={pkg.id} className=\"p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <Package className=\"w-8 h-8 text-blue-500\" />\n                      <div>\n                        <div className=\"font-medium text-lg\">{pkg.package_name}</div>\n                        <div className=\"text-sm text-gray-500 mt-1\">\n                          价格: ¥{pkg.price.toFixed(2)} · 时长: {pkg.duration}天 · 等级: L{pkg.level}\n                        </div>\n                        {pkg.introduce && (\n                          <div className=\"text-sm text-gray-400 mt-1\">{pkg.introduce}</div>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <Chip \n                        color={getCategoryColor(pkg.category)} \n                        variant=\"flat\"\n                        size=\"sm\"\n                      >\n                        {pkg.category}\n                      </Chip>\n                      <Chip \n                        color={pkg.status === 1 ? 'success' : 'danger'} \n                        variant=\"flat\"\n                        size=\"sm\"\n                      >\n                        {pkg.status === 1 ? '启用' : '禁用'}\n                      </Chip>\n                      <div className=\"flex gap-2\">\n                        <Button\n                          size=\"sm\"\n                          variant=\"flat\"\n                          isIconOnly\n                          onClick={() => handleEdit(pkg)}\n                        >\n                          <Edit className=\"w-4 h-4\" />\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"flat\"\n                          color=\"danger\"\n                          isIconOnly\n                          onClick={() => handleDelete(pkg.id)}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n      </Card>\n\n      {/* 编辑/新增模态框 */}\n      <Modal isOpen={isOpen} onOpenChange={onOpenChange} size=\"3xl\">\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader>\n                {editingRecord ? '编辑套餐' : '新增套餐'}\n              </ModalHeader>\n              <ModalBody>\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Input\n                      label=\"套餐名称\"\n                      placeholder=\"请输入套餐名称\"\n                      value={formData.package_name}\n                      onChange={(e) => setFormData({...formData, package_name: e.target.value})}\n                      isRequired\n                    />\n                    \n                    <Select\n                      label=\"分类\"\n                      placeholder=\"请选择分类\"\n                      selectedKeys={[formData.category]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({...formData, category: value});\n                      }}\n                    >\n                      <SelectItem key=\"个人\">个人</SelectItem>\n                      <SelectItem key=\"企业\">企业</SelectItem>\n                      <SelectItem key=\"高级\">高级</SelectItem>\n                    </Select>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Input\n                      label=\"价格(元)\"\n                      placeholder=\"请输入价格\"\n                      type=\"number\"\n                      value={formData.price}\n                      onChange={(e) => setFormData({...formData, price: e.target.value})}\n                      isRequired\n                    />\n                    \n                    <Input\n                      label=\"时长(天)\"\n                      placeholder=\"请输入时长\"\n                      type=\"number\"\n                      value={formData.duration}\n                      onChange={(e) => setFormData({...formData, duration: e.target.value})}\n                      isRequired\n                    />\n                  </div>\n                  \n                  <div className=\"grid grid-cols-3 gap-4\">\n                    <Input\n                      label=\"等级\"\n                      placeholder=\"请输入等级\"\n                      type=\"number\"\n                      value={formData.level}\n                      onChange={(e) => setFormData({...formData, level: e.target.value})}\n                      isRequired\n                    />\n                    \n                    <Input\n                      label=\"优先级\"\n                      placeholder=\"请输入优先级\"\n                      type=\"number\"\n                      value={formData.priority}\n                      onChange={(e) => setFormData({...formData, priority: e.target.value})}\n                      isRequired\n                    />\n                    \n                    <Select\n                      label=\"状态\"\n                      placeholder=\"请选择状态\"\n                      selectedKeys={[formData.status]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({...formData, status: value});\n                      }}\n                    >\n                      <SelectItem key=\"1\">启用</SelectItem>\n                      <SelectItem key=\"0\">禁用</SelectItem>\n                    </Select>\n                  </div>\n                  \n                  <Textarea\n                    label=\"介绍\"\n                    placeholder=\"请输入套餐介绍\"\n                    value={formData.introduce}\n                    onChange={(e) => setFormData({...formData, introduce: e.target.value})}\n                    maxRows={3}\n                  />\n                  \n                  <Textarea\n                    label=\"备注\"\n                    placeholder=\"请输入备注\"\n                    value={formData.remarks}\n                    onChange={(e) => setFormData({...formData, remarks: e.target.value})}\n                    maxRows={2}\n                  />\n                </div>\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose}>\n                  取消\n                </Button>\n                <Button color=\"primary\" onPress={() => { handleSave(); onClose(); }}>\n                  保存\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </motion.div>\n  );\n};\n\nexport default AdminPackages;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
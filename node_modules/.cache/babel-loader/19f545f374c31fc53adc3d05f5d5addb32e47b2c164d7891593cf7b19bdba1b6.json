{"ast":null,"code":"/**\n * 订阅套餐Tab页面\n * 显示用户当前订阅和可用套餐\n */import React,{useState,useEffect,useMemo}from'react';import{Card,CardBody,Button,Chip,Spinner,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Tab,Tabs}from'@heroui/react';import{motion,AnimatePresence}from'framer-motion';import{Package,Star,Crown,AlertCircle,CheckCircle,QrCode,Calendar,Timer}from'lucide-react';import{packageUserApi,orderUserApi}from'../../../services/userApi';import QRCodeGenerator from'qrcode-generator';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const SubscriptionTab=()=>{const[packages,setPackages]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[selectedPackage,setSelectedPackage]=useState(null);const[orderInfo,setOrderInfo]=useState(null);const[orderLoading,setOrderLoading]=useState(false);const[paymentModal,setPaymentModal]=useState(false);const[paymentStatus,setPaymentStatus]=useState('pending');const[checkInterval,setCheckInterval]=useState(null);const[selectedCategory,setSelectedCategory]=useState('monthly');const[qrCodeExpired,setQrCodeExpired]=useState(false);const[qrCodeTimer,setQrCodeTimer]=useState(null);// 套餐分类配置\nconst subscriptionCategories=[{key:'weekly',label:'周订阅',icon:/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6\"}),description:'7天体验'},{key:'monthly',label:'月订阅',icon:/*#__PURE__*/_jsx(Package,{className:\"w-6 h-6\"}),description:'30天经济'},{key:'quarterly',label:'季订阅',icon:/*#__PURE__*/_jsx(Star,{className:\"w-6 h-6\"}),description:'90天优惠'},{key:'yearly',label:'年订阅',icon:/*#__PURE__*/_jsx(Crown,{className:\"w-6 h-6\"}),description:'365天超值'},{key:'more',label:'更多',icon:/*#__PURE__*/_jsx(Timer,{className:\"w-6 h-6\"}),description:'其他时长'}];// 根据时长分类套餐\nconst categorizePackage=duration=>{if(duration===7)return'weekly';if(duration>=30&&duration<=31)return'monthly';if(duration>=90&&duration<=93)return'quarterly';if(duration>=364&&duration<=366)return'yearly';return'more';};// 分组套餐\nconst groupedPackages=useMemo(()=>{const groups={weekly:[],monthly:[],quarterly:[],yearly:[],more:[]};packages.forEach(pkg=>{const category=categorizePackage(pkg.duration);groups[category].push(pkg);});Object.keys(groups).forEach(key=>{groups[key].sort((a,b)=>a.priority-b.priority);});return groups;},[packages]);// 可用的分类\nconst availableCategories=useMemo(()=>{return subscriptionCategories.filter(category=>groupedPackages[category.key].length>0);},[groupedPackages]);// 计算日均价格（保留1位小数，四舍五入）\nconst calculateDailyPrice=(price,duration)=>{if(duration<=0)return'0.0';const dailyPrice=price/duration;return(Math.round(dailyPrice*10)/10).toString();};// 获取套餐列表\nconst fetchPackages=async()=>{try{setLoading(true);setError('');const response=await packageUserApi.getPackages();if(response.code===20000){const sortedPackages=(response.data||[]).sort((a,b)=>a.priority-b.priority);setPackages(sortedPackages);const firstAvailableCategory=subscriptionCategories.find(category=>sortedPackages.some(pkg=>categorizePackage(pkg.duration)===category.key));if(firstAvailableCategory){setSelectedCategory(firstAvailableCategory.key);}}else{setError(response.msg||'获取套餐列表失败');}}catch(err){setError(err instanceof Error?err.message:'网络错误');}finally{setLoading(false);}};// 创建订单\nconst createOrder=async packageId=>{try{setOrderLoading(true);const response=await orderUserApi.createOrder(packageId);if(response.code===20000){setOrderInfo(response.data);setPaymentModal(true);setPaymentStatus('pending');setQrCodeExpired(false);startPaymentStatusCheck(response.data.order_id);startQrCodeTimer();}else{alert(response.msg||'创建订单失败');}}catch(err){alert(err instanceof Error?err.message:'网络错误');}finally{setOrderLoading(false);}};// 开始二维码计时器\nconst startQrCodeTimer=()=>{if(qrCodeTimer){clearTimeout(qrCodeTimer);}const timer=setTimeout(()=>{setQrCodeExpired(true);// 二维码过期时停止支付状态检查\nif(checkInterval){clearInterval(checkInterval);setCheckInterval(null);}},5*60*1000);setQrCodeTimer(timer);};// 开始检查支付状态\nconst startPaymentStatusCheck=orderId=>{if(checkInterval){clearInterval(checkInterval);}const interval=setInterval(async()=>{try{const response=await orderUserApi.getPayStatus(orderId);if(response.code===20000){setPaymentStatus('success');clearInterval(interval);if(qrCodeTimer){clearTimeout(qrCodeTimer);}setTimeout(()=>{window.location.reload();},2000);}else if(response.code===20001){// 继续检查\n}else{setPaymentStatus('failed');clearInterval(interval);}}catch(err){console.error('检查支付状态失败:',err);}},1500);setCheckInterval(interval);};// 生成二维码\nconst generateQRCode=text=>{const qr=QRCodeGenerator(0,'M');qr.addData(text);qr.make();return qr.createDataURL(8,4);};// 获取时长描述\nconst getDurationText=duration=>{if(duration===7)return'1周';if(duration>=30&&duration<=31)return'1个月';if(duration>=90&&duration<=93)return'1季度';if(duration>=364&&duration<=366)return'1年';return`${duration}天`;};// 关闭支付弹窗\nconst closePaymentModal=()=>{if(checkInterval){clearInterval(checkInterval);setCheckInterval(null);}if(qrCodeTimer){clearTimeout(qrCodeTimer);setQrCodeTimer(null);}setPaymentModal(false);setOrderInfo(null);setPaymentStatus('pending');setQrCodeExpired(false);};// 计算最受欢迎的套餐\nconst getMostPopularPackage=categoryPackages=>{if(categoryPackages.length<=1)return null;const sortedByPrice=[...categoryPackages].sort((a,b)=>a.price-b.price);const middleIndex=Math.floor(sortedByPrice.length/2);return sortedByPrice[middleIndex];};useEffect(()=>{fetchPackages();return()=>{if(checkInterval){clearInterval(checkInterval);}if(qrCodeTimer){clearTimeout(qrCodeTimer);}};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"subscription-tab-wrapper\",style:{width:'100%',fontFamily:'inherit',lineHeight:'inherit',fontSize:'inherit',color:'inherit'},children:[/*#__PURE__*/_jsx(\"style\",{children:`\n        .subscription-tab-wrapper * {\n          box-sizing: border-box;\n        }\n        \n        .subscription-tab-wrapper .subscription-card {\n          all: unset;\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          background: white;\n          border-radius: 12px;\n          border: 1px solid #e5e7eb;\n          transition: all 0.3s ease;\n          overflow: hidden;\n          height: 100%;\n        }\n        \n        .subscription-tab-wrapper .subscription-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n          border-color: #3b82f6;\n        }\n        \n        .subscription-tab-wrapper .subscription-card.popular {\n          border: 2px solid #3b82f6;\n          position: relative;\n        }\n        \n        .subscription-tab-wrapper .subscription-card.popular::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n          background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n        }\n        \n        .subscription-tab-wrapper .popular-badge {\n          position: absolute;\n          top: 0;\n          left: 50%;\n          transform: translateX(-50%);\n          background: #3b82f6;\n          color: white;\n          padding: 6px 16px;\n          border-radius: 0 0 12px 12px;\n          font-size: 12px;\n          font-weight: 600;\n          white-space: nowrap;\n          z-index: 10;\n          box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n        }\n        \n        .subscription-tab-wrapper .card-body {\n          padding: 24px;\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n          min-height: 420px;\n        }\n        \n        .subscription-tab-wrapper .package-header {\n          text-align: center;\n          margin-bottom: 20px;\n        }\n        \n        .subscription-tab-wrapper .package-title {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 0 0 12px 0;\n          color: #1f2937;\n          line-height: 1.2;\n        }\n        \n        .subscription-tab-wrapper .package-badges {\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n        \n        .subscription-tab-wrapper .package-price {\n          text-align: center;\n          margin: 20px 0;\n          padding: 16px;\n          background: #f8fafc;\n          border-radius: 8px;\n        }\n        \n        .subscription-tab-wrapper .price-main {\n          display: flex;\n          align-items: baseline;\n          justify-content: center;\n          gap: 4px;\n          margin-bottom: 8px;\n        }\n        \n        .subscription-tab-wrapper .price-amount {\n          font-size: 32px;\n          font-weight: 800;\n          color: #3b82f6;\n          line-height: 1;\n        }\n        \n        .subscription-tab-wrapper .price-unit {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: 500;\n        }\n        \n        .subscription-tab-wrapper .price-daily {\n          font-size: 13px;\n          color: #9ca3af;\n          margin: 0;\n          font-weight: 400;\n        }\n        \n        .subscription-tab-wrapper .package-description {\n          flex: 1;\n          margin: 16px 0 24px 0;\n        }\n        \n        .subscription-tab-wrapper .description-box {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          min-height: 80px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .subscription-tab-wrapper .description-text {\n          font-size: 14px;\n          color: #4b5563;\n          line-height: 1.5;\n          text-align: center;\n          margin: 0;\n        }\n        \n        .subscription-tab-wrapper .subscribe-button {\n          margin-top: auto;\n        }\n        \n        .subscription-tab-wrapper .hero-button {\n          width: 100%;\n          height: 44px;\n          border-radius: 8px;\n          font-weight: 600;\n          font-size: 14px;\n          transition: all 0.2s ease;\n          border: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        }\n        \n        .subscription-tab-wrapper .hero-button.primary {\n          background: #3b82f6;\n          color: white;\n        }\n        \n        .subscription-tab-wrapper .hero-button.primary:hover {\n          background: #2563eb;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n        }\n        \n        .subscription-tab-wrapper .hero-button.secondary {\n          background: white;\n          color: #374151;\n          border: 1px solid #d1d5db;\n        }\n        \n        .subscription-tab-wrapper .hero-button.secondary:hover {\n          background: #f9fafb;\n          border-color: #9ca3af;\n        }\n        \n        .subscription-tab-wrapper .hero-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none !important;\n        }\n        \n        .subscription-tab-wrapper .loading-spinner {\n          width: 16px;\n          height: 16px;\n          border: 2px solid transparent;\n          border-top: 2px solid currentColor;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n        \n        .subscription-tab-wrapper .divider {\n          height: 1px;\n          background: #e5e7eb;\n          margin: 16px 0;\n          border: none;\n        }\n      `}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-foreground mb-2\",children:\"\\u8BA2\\u9605\\u5957\\u9910\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-500 max-w-md mx-auto\",children:\"\\u9009\\u62E9\\u9002\\u5408\\u60A8\\u7684\\u8BA2\\u9605\\u65B9\\u6848\\uFF0C\\u4EAB\\u53D7\\u4F18\\u8D28\\u670D\\u52A1\"})]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-16\",children:[/*#__PURE__*/_jsx(Spinner,{size:\"lg\",color:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-500 mt-4\",children:\"\\u6B63\\u5728\\u52A0\\u8F7D\\u5957\\u9910\\u4FE1\\u606F...\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{className:\"text-center p-8\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-12 h-12 text-danger mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-danger mb-2\",children:\"\\u52A0\\u8F7D\\u5931\\u8D25\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-600 text-sm mb-4\",children:error}),/*#__PURE__*/_jsx(Button,{color:\"danger\",variant:\"light\",onPress:fetchPackages,children:\"\\u91CD\\u65B0\\u52A0\\u8F7D\"})]})})}),!loading&&!error&&availableCategories.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(Tabs,{selectedKey:selectedCategory,onSelectionChange:key=>setSelectedCategory(key),variant:\"underlined\",color:\"primary\",classNames:{base:\"w-full\",tabList:\"gap-6 w-full relative rounded-none p-0 border-b border-divider\",cursor:\"w-full bg-primary\",tab:\"max-w-fit px-3 h-16\",tabContent:\"group-data-[selected=true]:text-primary\"},children:availableCategories.map(category=>/*#__PURE__*/_jsx(Tab,{title:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 py-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 text-primary\",children:category.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-base\",children:category.label}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-default-500\",children:category.description}),/*#__PURE__*/_jsx(Chip,{size:\"sm\",variant:\"flat\",color:\"primary\",className:\"h-5 text-xs px-1.5\",children:groupedPackages[category.key].length})]})]})]})},category.key))})}),!loading&&!error&&availableCategories.length>0&&/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:0.3},className:\"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto\",children:groupedPackages[selectedCategory].map((pkg,index)=>{const mostPopular=getMostPopularPackage(groupedPackages[selectedCategory]);const isPopular=(mostPopular===null||mostPopular===void 0?void 0:mostPopular.id)===pkg.id;const dailyPrice=calculateDailyPrice(pkg.price,pkg.duration);return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:index*0.1,duration:0.4},className:\"relative h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:`subscription-card ${isPopular?'popular':''}`,children:[isPopular&&/*#__PURE__*/_jsx(\"div\",{className:\"popular-badge\",children:\"\\u6700\\u53D7\\u6B22\\u8FCE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"package-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"package-title\",children:pkg.package_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"package-badges\",children:[/*#__PURE__*/_jsx(Chip,{size:\"sm\",color:pkg.level.toLowerCase()==='plus'?'primary':'default',variant:\"flat\",children:pkg.level}),/*#__PURE__*/_jsx(Chip,{size:\"sm\",variant:\"bordered\",startContent:/*#__PURE__*/_jsx(Timer,{className:\"w-3 h-3\"}),children:getDurationText(pkg.duration)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"package-price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"price-main\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"price-amount\",children:[\"\\xA5\",pkg.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-unit\",children:[\"/ \",getDurationText(pkg.duration)]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"price-daily\",children:[\"\\u7EA6 \\xA5\",dailyPrice,\" / \\u5929\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"package-description\",children:/*#__PURE__*/_jsx(\"div\",{className:\"description-box\",children:/*#__PURE__*/_jsx(\"p\",{className:\"description-text\",children:pkg.introduce||'暂无详细描述'})})}),/*#__PURE__*/_jsx(\"div\",{className:\"subscribe-button\",children:/*#__PURE__*/_jsx(\"button\",{className:`hero-button ${isPopular?'primary':'secondary'}`,disabled:pkg.status!==1||orderLoading&&(selectedPackage===null||selectedPackage===void 0?void 0:selectedPackage.id)===pkg.id,onClick:()=>{setSelectedPackage(pkg);createOrder(pkg.id);},children:orderLoading&&(selectedPackage===null||selectedPackage===void 0?void 0:selectedPackage.id)===pkg.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),\"\\u5904\\u7406\\u4E2D...\"]}):pkg.status===1?'立即订阅':'暂不可用'})})]})]})},pkg.id);})},selectedCategory)}),!loading&&!error&&packages.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(Package,{className:\"w-16 h-16 mx-auto mb-4 text-default-300\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-default-600 mb-2\",children:\"\\u6682\\u65E0\\u53EF\\u7528\\u5957\\u9910\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-400\",children:\"\\u8BF7\\u7A0D\\u540E\\u518D\\u8BD5\\u6216\\u8054\\u7CFB\\u5BA2\\u670D\"})]}),/*#__PURE__*/_jsx(Modal,{isOpen:paymentModal,onClose:closePaymentModal,size:\"lg\",hideCloseButton:paymentStatus==='success',classNames:{base:\"max-h-[90vh]\",body:\"py-6\"},children:/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:\"\\u5B8C\\u6210\\u652F\\u4ED8\"}),selectedPackage&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-default-500 mt-1\",children:selectedPackage.package_name})]})}),/*#__PURE__*/_jsx(ModalBody,{children:orderInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-default-500\",children:\"\\u8BA2\\u5355\\u53F7\"}),/*#__PURE__*/_jsx(\"code\",{className:\"text-xs bg-default-100 px-2 py-1 rounded font-mono\",children:orderInfo.order_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-default-500\",children:\"\\u652F\\u4ED8\\u91D1\\u989D\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-primary\",children:[\"\\xA5\",selectedPackage===null||selectedPackage===void 0?void 0:selectedPackage.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-default-500\",children:\"\\u5957\\u9910\\u65F6\\u957F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:selectedPackage?getDurationText(selectedPackage.duration):''})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[paymentStatus==='pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(QrCode,{className:\"w-6 h-6 text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-medium\",children:orderInfo.pay_type==='wxpay'?'请使用微信扫码支付':'请扫码支付'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-default-500 space-y-1\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u4E8C\\u7EF4\\u78015\\u5206\\u949F\\u5185\\u6709\\u6548\"}),qrCodeExpired&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger font-medium\",children:\"\\u4E8C\\u7EF4\\u7801\\u5DF2\\u8FC7\\u671F\\uFF0C\\u8BF7\\u91CD\\u65B0\\u521B\\u5EFA\\u8BA2\\u5355\"})]})]}),paymentStatus==='checking'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Spinner,{size:\"lg\",color:\"primary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-600\",children:\"\\u6B63\\u5728\\u786E\\u8BA4\\u652F\\u4ED8\\u7ED3\\u679C...\"})]}),paymentStatus==='success'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:\"spring\",duration:0.6},children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-20 h-20 mx-auto text-success\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-success mb-2\",children:\"\\u652F\\u4ED8\\u6210\\u529F\\uFF01\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-500\",children:\"\\u9875\\u9762\\u5373\\u5C06\\u5237\\u65B0\\uFF0C\\u8BF7\\u7A0D\\u7B49...\"})]})]}),paymentStatus==='failed'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-12 h-12 mx-auto text-danger\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-danger mb-2\",children:\"\\u652F\\u4ED8\\u5931\\u8D25\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-default-500 text-sm\",children:\"\\u8BF7\\u91CD\\u8BD5\\u6216\\u8054\\u7CFB\\u5BA2\\u670D\"})]})]})]}),orderInfo.qr_code&&paymentStatus==='pending'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(Card,{className:\"p-6 relative\",children:[/*#__PURE__*/_jsx(motion.img,{src:generateQRCode(orderInfo.qr_code),alt:\"\\u652F\\u4ED8\\u4E8C\\u7EF4\\u7801\",className:`w-48 h-48 transition-all duration-500 ${qrCodeExpired?'opacity-30 grayscale':''}`,initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},transition:{delay:0.2}}),qrCodeExpired&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-lg\",initial:{opacity:0},animate:{opacity:1},transition:{duration:0.3},children:/*#__PURE__*/_jsx(Chip,{color:\"danger\",variant:\"solid\",className:\"shadow-lg\",children:\"\\u5DF2\\u8FC7\\u671F\"})})]})})]})}),/*#__PURE__*/_jsx(ModalFooter,{children:paymentStatus!=='success'&&/*#__PURE__*/_jsx(Button,{color:\"danger\",variant:\"light\",onPress:closePaymentModal,children:\"\\u53D6\\u6D88\\u652F\\u4ED8\"})})]})})]});};","map":{"version":3,"names":["React","useState","useEffect","useMemo","Card","CardBody","Button","Chip","Spinner","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Tab","Tabs","motion","AnimatePresence","Package","Star","Crown","AlertCircle","CheckCircle","QrCode","Calendar","Timer","packageUserApi","orderUserApi","QRCodeGenerator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SubscriptionTab","packages","setPackages","loading","setLoading","error","setError","selectedPackage","setSelectedPackage","orderInfo","setOrderInfo","orderLoading","setOrderLoading","paymentModal","setPaymentModal","paymentStatus","setPaymentStatus","checkInterval","setCheckInterval","selectedCategory","setSelectedCategory","qrCodeExpired","setQrCodeExpired","qrCodeTimer","setQrCodeTimer","subscriptionCategories","key","label","icon","className","description","categorizePackage","duration","groupedPackages","groups","weekly","monthly","quarterly","yearly","more","forEach","pkg","category","push","Object","keys","sort","a","b","priority","availableCategories","filter","length","calculateDailyPrice","price","dailyPrice","Math","round","toString","fetchPackages","response","getPackages","code","sortedPackages","data","firstAvailableCategory","find","some","msg","err","Error","message","createOrder","packageId","startPaymentStatusCheck","order_id","startQrCodeTimer","alert","clearTimeout","timer","setTimeout","clearInterval","orderId","interval","setInterval","getPayStatus","window","location","reload","console","generateQRCode","text","qr","addData","make","createDataURL","getDurationText","closePaymentModal","getMostPopularPackage","categoryPackages","sortedByPrice","middleIndex","floor","style","width","fontFamily","lineHeight","fontSize","color","children","size","variant","onPress","selectedKey","onSelectionChange","classNames","base","tabList","cursor","tab","tabContent","map","title","mode","div","initial","opacity","y","animate","exit","transition","index","mostPopular","isPopular","id","delay","package_name","level","toLowerCase","startContent","introduce","disabled","status","onClick","isOpen","onClose","hideCloseButton","body","pay_type","scale","type","qr_code","img","src","alt"],"sources":["/opt/dev/star_share/web/src/pages/user/tabs/SubscriptionTab.tsx"],"sourcesContent":["/**\n * 订阅套餐Tab页面\n * 显示用户当前订阅和可用套餐\n */\nimport React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Card,\n  CardBody,\n  Button,\n  Chip,\n  Spinner,\n  Modal,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Divider,\n  Tab,\n  Tabs\n} from '@heroui/react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Package, Star, Crown, AlertCircle, CheckCircle, QrCode, Zap, Calendar, Timer, LucideIcon } from 'lucide-react';\nimport { packageUserApi, orderUserApi } from '../../../services/userApi';\nimport QRCodeGenerator from 'qrcode-generator';\n\ninterface PackageInfo {\n  id: number;\n  package_name: string;\n  category: string;\n  price: number;\n  duration: number;\n  introduce: string;\n  level: string;\n  priority: number;\n  remarks: string;\n  status: number;\n}\n\ninterface OrderInfo {\n  success: boolean;\n  trade_no: string;\n  order_id: string;\n  payment_url: string | null;\n  qr_code: string;\n  channel: string;\n  pay_type: string;\n}\n\ntype SubscriptionType = 'weekly' | 'monthly' | 'quarterly' | 'yearly' | 'more';\n\ninterface SubscriptionCategory {\n  key: SubscriptionType;\n  label: string;\n  icon: React.ReactNode;\n  description: string;\n}\n\nexport const SubscriptionTab: React.FC = () => {\n  const [packages, setPackages] = useState<PackageInfo[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string>('');\n  const [selectedPackage, setSelectedPackage] = useState<PackageInfo | null>(null);\n  const [orderInfo, setOrderInfo] = useState<OrderInfo | null>(null);\n  const [orderLoading, setOrderLoading] = useState(false);\n  const [paymentModal, setPaymentModal] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState<'pending' | 'checking' | 'success' | 'failed'>('pending');\n  const [checkInterval, setCheckInterval] = useState<NodeJS.Timeout | null>(null);\n  const [selectedCategory, setSelectedCategory] = useState<SubscriptionType>('monthly');\n  const [qrCodeExpired, setQrCodeExpired] = useState(false);\n  const [qrCodeTimer, setQrCodeTimer] = useState<NodeJS.Timeout | null>(null);\n\n  // 套餐分类配置\n  const subscriptionCategories: SubscriptionCategory[] = [\n    {\n      key: 'weekly',\n      label: '周订阅',\n      icon: <Calendar className=\"w-6 h-6\" />,\n      description: '7天体验'\n    },\n    {\n      key: 'monthly',\n      label: '月订阅',\n      icon: <Package className=\"w-6 h-6\" />,\n      description: '30天经济'\n    },\n    {\n      key: 'quarterly',\n      label: '季订阅',\n      icon: <Star className=\"w-6 h-6\" />,\n      description: '90天优惠'\n    },\n    {\n      key: 'yearly',\n      label: '年订阅',\n      icon: <Crown className=\"w-6 h-6\" />,\n      description: '365天超值'\n    },\n    {\n      key: 'more',\n      label: '更多',\n      icon: <Timer className=\"w-6 h-6\" />,\n      description: '其他时长'\n    }\n  ];\n\n  // 根据时长分类套餐\n  const categorizePackage = (duration: number): SubscriptionType => {\n    if (duration === 7) return 'weekly';\n    if (duration >= 30 && duration <= 31) return 'monthly';\n    if (duration >= 90 && duration <= 93) return 'quarterly';\n    if (duration >= 364 && duration <= 366) return 'yearly';\n    return 'more';\n  };\n\n  // 分组套餐\n  const groupedPackages = useMemo(() => {\n    const groups: Record<SubscriptionType, PackageInfo[]> = {\n      weekly: [],\n      monthly: [],\n      quarterly: [],\n      yearly: [],\n      more: []\n    };\n\n    packages.forEach(pkg => {\n      const category = categorizePackage(pkg.duration);\n      groups[category].push(pkg);\n    });\n\n    Object.keys(groups).forEach(key => {\n      groups[key as SubscriptionType].sort((a, b) => a.priority - b.priority);\n    });\n\n    return groups;\n  }, [packages]);\n\n  // 可用的分类\n  const availableCategories = useMemo(() => {\n    return subscriptionCategories.filter(category =>\n      groupedPackages[category.key].length > 0\n    );\n  }, [groupedPackages]);\n\n  // 计算日均价格（保留1位小数，四舍五入）\n  const calculateDailyPrice = (price: number, duration: number): string => {\n    if (duration <= 0) return '0.0';\n    const dailyPrice = price / duration;\n    return (Math.round(dailyPrice * 10) / 10).toString();\n  };\n\n  // 获取套餐列表\n  const fetchPackages = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      const response = await packageUserApi.getPackages();\n\n      if (response.code === 20000) {\n        const sortedPackages = (response.data || []).sort((a, b) => a.priority - b.priority);\n        setPackages(sortedPackages);\n\n        const firstAvailableCategory = subscriptionCategories.find(category =>\n          sortedPackages.some(pkg => categorizePackage(pkg.duration) === category.key)\n        );\n        if (firstAvailableCategory) {\n          setSelectedCategory(firstAvailableCategory.key);\n        }\n      } else {\n        setError(response.msg || '获取套餐列表失败');\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : '网络错误');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 创建订单\n  const createOrder = async (packageId: number) => {\n    try {\n      setOrderLoading(true);\n      const response = await orderUserApi.createOrder(packageId);\n\n      if (response.code === 20000) {\n        setOrderInfo(response.data);\n        setPaymentModal(true);\n        setPaymentStatus('pending');\n        setQrCodeExpired(false);\n        startPaymentStatusCheck(response.data.order_id);\n        startQrCodeTimer();\n      } else {\n        alert(response.msg || '创建订单失败');\n      }\n    } catch (err) {\n      alert(err instanceof Error ? err.message : '网络错误');\n    } finally {\n      setOrderLoading(false);\n    }\n  };\n\n  // 开始二维码计时器\n  const startQrCodeTimer = () => {\n    if (qrCodeTimer) {\n      clearTimeout(qrCodeTimer);\n    }\n    const timer = setTimeout(() => {\n      setQrCodeExpired(true);\n      // 二维码过期时停止支付状态检查\n      if (checkInterval) {\n        clearInterval(checkInterval);\n        setCheckInterval(null);\n      }\n    }, 5 * 60 * 1000);\n    setQrCodeTimer(timer);\n  };\n\n  // 开始检查支付状态\n  const startPaymentStatusCheck = (orderId: string) => {\n    if (checkInterval) {\n      clearInterval(checkInterval);\n    }\n\n    const interval = setInterval(async () => {\n      try {\n        const response = await orderUserApi.getPayStatus(orderId);\n\n        if (response.code === 20000) {\n          setPaymentStatus('success');\n          clearInterval(interval);\n          if (qrCodeTimer) {\n            clearTimeout(qrCodeTimer);\n          }\n          setTimeout(() => {\n            window.location.reload();\n          }, 2000);\n        } else if (response.code === 20001) {\n          // 继续检查\n        } else {\n          setPaymentStatus('failed');\n          clearInterval(interval);\n        }\n      } catch (err) {\n        console.error('检查支付状态失败:', err);\n      }\n    }, 1500);\n\n    setCheckInterval(interval);\n  };\n\n  // 生成二维码\n  const generateQRCode = (text: string): string => {\n    const qr = QRCodeGenerator(0, 'M');\n    qr.addData(text);\n    qr.make();\n    return qr.createDataURL(8, 4);\n  };\n\n  // 获取时长描述\n  const getDurationText = (duration: number) => {\n    if (duration === 7) return '1周';\n    if (duration >= 30 && duration <= 31) return '1个月';\n    if (duration >= 90 && duration <= 93) return '1季度';\n    if (duration >= 364 && duration <= 366) return '1年';\n    return `${duration}天`;\n  };\n\n  // 关闭支付弹窗\n  const closePaymentModal = () => {\n    if (checkInterval) {\n      clearInterval(checkInterval);\n      setCheckInterval(null);\n    }\n    if (qrCodeTimer) {\n      clearTimeout(qrCodeTimer);\n      setQrCodeTimer(null);\n    }\n    setPaymentModal(false);\n    setOrderInfo(null);\n    setPaymentStatus('pending');\n    setQrCodeExpired(false);\n  };\n\n  // 计算最受欢迎的套餐\n  const getMostPopularPackage = (categoryPackages: PackageInfo[]) => {\n    if (categoryPackages.length <= 1) return null;\n    const sortedByPrice = [...categoryPackages].sort((a, b) => a.price - b.price);\n    const middleIndex = Math.floor(sortedByPrice.length / 2);\n    return sortedByPrice[middleIndex];\n  };\n\n  useEffect(() => {\n    fetchPackages();\n\n    return () => {\n      if (checkInterval) {\n        clearInterval(checkInterval);\n      }\n      if (qrCodeTimer) {\n        clearTimeout(qrCodeTimer);\n      }\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"subscription-tab-wrapper\"\n      style={{\n        width: '100%',\n        fontFamily: 'inherit',\n        lineHeight: 'inherit',\n        fontSize: 'inherit',\n        color: 'inherit'\n      }}\n    >\n      {/* 内部样式重置和隔离 */}\n      <style>{`\n        .subscription-tab-wrapper * {\n          box-sizing: border-box;\n        }\n        \n        .subscription-tab-wrapper .subscription-card {\n          all: unset;\n          display: flex;\n          flex-direction: column;\n          position: relative;\n          background: white;\n          border-radius: 12px;\n          border: 1px solid #e5e7eb;\n          transition: all 0.3s ease;\n          overflow: hidden;\n          height: 100%;\n        }\n        \n        .subscription-tab-wrapper .subscription-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n          border-color: #3b82f6;\n        }\n        \n        .subscription-tab-wrapper .subscription-card.popular {\n          border: 2px solid #3b82f6;\n          position: relative;\n        }\n        \n        .subscription-tab-wrapper .subscription-card.popular::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n          background: linear-gradient(90deg, #3b82f6, #1d4ed8);\n        }\n        \n        .subscription-tab-wrapper .popular-badge {\n          position: absolute;\n          top: 0;\n          left: 50%;\n          transform: translateX(-50%);\n          background: #3b82f6;\n          color: white;\n          padding: 6px 16px;\n          border-radius: 0 0 12px 12px;\n          font-size: 12px;\n          font-weight: 600;\n          white-space: nowrap;\n          z-index: 10;\n          box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);\n        }\n        \n        .subscription-tab-wrapper .card-body {\n          padding: 24px;\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n          min-height: 420px;\n        }\n        \n        .subscription-tab-wrapper .package-header {\n          text-align: center;\n          margin-bottom: 20px;\n        }\n        \n        .subscription-tab-wrapper .package-title {\n          font-size: 20px;\n          font-weight: 700;\n          margin: 0 0 12px 0;\n          color: #1f2937;\n          line-height: 1.2;\n        }\n        \n        .subscription-tab-wrapper .package-badges {\n          display: flex;\n          justify-content: center;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n        \n        .subscription-tab-wrapper .package-price {\n          text-align: center;\n          margin: 20px 0;\n          padding: 16px;\n          background: #f8fafc;\n          border-radius: 8px;\n        }\n        \n        .subscription-tab-wrapper .price-main {\n          display: flex;\n          align-items: baseline;\n          justify-content: center;\n          gap: 4px;\n          margin-bottom: 8px;\n        }\n        \n        .subscription-tab-wrapper .price-amount {\n          font-size: 32px;\n          font-weight: 800;\n          color: #3b82f6;\n          line-height: 1;\n        }\n        \n        .subscription-tab-wrapper .price-unit {\n          font-size: 14px;\n          color: #6b7280;\n          font-weight: 500;\n        }\n        \n        .subscription-tab-wrapper .price-daily {\n          font-size: 13px;\n          color: #9ca3af;\n          margin: 0;\n          font-weight: 400;\n        }\n        \n        .subscription-tab-wrapper .package-description {\n          flex: 1;\n          margin: 16px 0 24px 0;\n        }\n        \n        .subscription-tab-wrapper .description-box {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 16px;\n          min-height: 80px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        .subscription-tab-wrapper .description-text {\n          font-size: 14px;\n          color: #4b5563;\n          line-height: 1.5;\n          text-align: center;\n          margin: 0;\n        }\n        \n        .subscription-tab-wrapper .subscribe-button {\n          margin-top: auto;\n        }\n        \n        .subscription-tab-wrapper .hero-button {\n          width: 100%;\n          height: 44px;\n          border-radius: 8px;\n          font-weight: 600;\n          font-size: 14px;\n          transition: all 0.2s ease;\n          border: none;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 8px;\n        }\n        \n        .subscription-tab-wrapper .hero-button.primary {\n          background: #3b82f6;\n          color: white;\n        }\n        \n        .subscription-tab-wrapper .hero-button.primary:hover {\n          background: #2563eb;\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n        }\n        \n        .subscription-tab-wrapper .hero-button.secondary {\n          background: white;\n          color: #374151;\n          border: 1px solid #d1d5db;\n        }\n        \n        .subscription-tab-wrapper .hero-button.secondary:hover {\n          background: #f9fafb;\n          border-color: #9ca3af;\n        }\n        \n        .subscription-tab-wrapper .hero-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none !important;\n        }\n        \n        .subscription-tab-wrapper .loading-spinner {\n          width: 16px;\n          height: 16px;\n          border: 2px solid transparent;\n          border-top: 2px solid currentColor;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n        \n        .subscription-tab-wrapper .divider {\n          height: 1px;\n          background: #e5e7eb;\n          margin: 16px 0;\n          border: none;\n        }\n      `}</style>\n\n      {/* 页面标题 */}\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-3xl font-bold text-foreground mb-2\">订阅套餐</h1>\n        <p className=\"text-default-500 max-w-md mx-auto\">选择适合您的订阅方案，享受优质服务</p>\n      </div>\n\n      {/* 加载状态 */}\n      {loading && (\n        <div className=\"flex flex-col items-center justify-center py-16\">\n          <Spinner size=\"lg\" color=\"primary\" />\n          <p className=\"text-default-500 mt-4\">正在加载套餐信息...</p>\n        </div>\n      )}\n\n      {/* 错误状态 */}\n      {error && (\n        <div className=\"max-w-md mx-auto\">\n          <Card>\n            <CardBody className=\"text-center p-8\">\n              <AlertCircle className=\"w-12 h-12 text-danger mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-danger mb-2\">加载失败</h3>\n              <p className=\"text-default-600 text-sm mb-4\">{error}</p>\n              <Button color=\"danger\" variant=\"light\" onPress={fetchPackages}>\n                重新加载\n              </Button>\n            </CardBody>\n          </Card>\n        </div>\n      )}\n\n      {/* 分类标签页 */}\n      {!loading && !error && availableCategories.length > 0 && (\n        <div className=\"mb-8\">\n          <Tabs\n            selectedKey={selectedCategory}\n            onSelectionChange={(key) => setSelectedCategory(key as SubscriptionType)}\n            variant=\"underlined\"\n            color=\"primary\"\n            classNames={{\n              base: \"w-full\",\n              tabList: \"gap-6 w-full relative rounded-none p-0 border-b border-divider\",\n              cursor: \"w-full bg-primary\",\n              tab: \"max-w-fit px-3 h-16\",\n              tabContent: \"group-data-[selected=true]:text-primary\"\n            }}\n          >\n            {availableCategories.map((category) => (\n              <Tab\n                key={category.key}\n                title={\n                  <div className=\"flex items-center gap-3 py-1\">\n                    <div className=\"flex-shrink-0 text-primary\">{category.icon}</div>\n                    <div className=\"flex flex-col items-start\">\n                      <span className=\"font-medium text-base\">{category.label}</span>\n                      <div className=\"flex items-center gap-1.5\">\n                        <span className=\"text-xs text-default-500\">{category.description}</span>\n                        <Chip size=\"sm\" variant=\"flat\" color=\"primary\" className=\"h-5 text-xs px-1.5\">\n                          {groupedPackages[category.key].length}\n                        </Chip>\n                      </div>\n                    </div>\n                  </div>\n                }\n              />\n            ))}\n          </Tabs>\n        </div>\n      )}\n\n      {/* 套餐列表 - 重构版本 */}\n      {!loading && !error && availableCategories.length > 0 && (\n        <AnimatePresence mode=\"wait\">\n          <motion.div\n            key={selectedCategory}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            transition={{ duration: 0.3 }}\n            className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto\"\n          >\n            {groupedPackages[selectedCategory].map((pkg, index) => {\n              const mostPopular = getMostPopularPackage(groupedPackages[selectedCategory]);\n              const isPopular = mostPopular?.id === pkg.id;\n              const dailyPrice = calculateDailyPrice(pkg.price, pkg.duration);\n\n              return (\n                <motion.div\n                  key={pkg.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1, duration: 0.4 }}\n                  className=\"relative h-full\"\n                >\n                  <div className={`subscription-card ${isPopular ? 'popular' : ''}`}>\n                    {/* 推荐标签 */}\n                    {isPopular && (\n                      <div className=\"popular-badge\">\n                        最受欢迎\n                      </div>\n                    )}\n\n                    <div className=\"card-body\">\n                      {/* 套餐标题 */}\n                      <div className=\"package-header\">\n                        <h3 className=\"package-title\">\n                          {pkg.package_name}\n                        </h3>\n                        <div className=\"package-badges\">\n                          <Chip\n                            size=\"sm\"\n                            color={pkg.level.toLowerCase() === 'plus' ? 'primary' : 'default'}\n                            variant=\"flat\"\n                          >\n                            {pkg.level}\n                          </Chip>\n                          <Chip\n                            size=\"sm\"\n                            variant=\"bordered\"\n                            startContent={<Timer className=\"w-3 h-3\" />}\n                          >\n                            {getDurationText(pkg.duration)}\n                          </Chip>\n                        </div>\n                      </div>\n\n                      <div className=\"divider\" />\n\n                      {/* 价格信息 */}\n                      <div className=\"package-price\">\n                        <div className=\"price-main\">\n                          <span className=\"price-amount\">¥{pkg.price}</span>\n                          <span className=\"price-unit\">/ {getDurationText(pkg.duration)}</span>\n                        </div>\n                        <p className=\"price-daily\">\n                          约 ¥{dailyPrice} / 天\n                        </p>\n                      </div>\n\n                      {/* 套餐描述 */}\n                      <div className=\"package-description\">\n                        <div className=\"description-box\">\n                          <p className=\"description-text\">\n                            {pkg.introduce || '暂无详细描述'}\n                          </p>\n                        </div>\n                      </div>\n\n                      {/* 订阅按钮 */}\n                      <div className=\"subscribe-button\">\n                        <button\n                          className={`hero-button ${isPopular ? 'primary' : 'secondary'}`}\n                          disabled={pkg.status !== 1 || (orderLoading && selectedPackage?.id === pkg.id)}\n                          onClick={() => {\n                            setSelectedPackage(pkg);\n                            createOrder(pkg.id);\n                          }}\n                        >\n                          {orderLoading && selectedPackage?.id === pkg.id ? (\n                            <>\n                              <div className=\"loading-spinner\" />\n                              处理中...\n                            </>\n                          ) : (\n                            pkg.status === 1 ? '立即订阅' : '暂不可用'\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </motion.div>\n        </AnimatePresence>\n      )}\n\n      {/* 空状态 */}\n      {!loading && !error && packages.length === 0 && (\n        <div className=\"text-center py-16\">\n          <Package className=\"w-16 h-16 mx-auto mb-4 text-default-300\" />\n          <h3 className=\"text-xl font-semibold text-default-600 mb-2\">暂无可用套餐</h3>\n          <p className=\"text-default-400\">请稍后再试或联系客服</p>\n        </div>\n      )}\n\n      {/* 支付弹窗 */}\n      <Modal\n        isOpen={paymentModal}\n        onClose={closePaymentModal}\n        size=\"lg\"\n        hideCloseButton={paymentStatus === 'success'}\n        classNames={{\n          base: \"max-h-[90vh]\",\n          body: \"py-6\",\n        }}\n      >\n        <ModalContent>\n          <ModalHeader>\n            <div>\n              <h2 className=\"text-xl font-bold\">完成支付</h2>\n              {selectedPackage && (\n                <p className=\"text-sm text-default-500 mt-1\">{selectedPackage.package_name}</p>\n              )}\n            </div>\n          </ModalHeader>\n\n          <ModalBody>\n            {orderInfo && (\n              <div className=\"space-y-6\">\n                {/* 订单摘要 */}\n                <Card>\n                  <CardBody className=\"p-4\">\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-default-500\">订单号</span>\n                        <code className=\"text-xs bg-default-100 px-2 py-1 rounded font-mono\">\n                          {orderInfo.order_id}\n                        </code>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-default-500\">支付金额</span>\n                        <span className=\"text-2xl font-bold text-primary\">¥{selectedPackage?.price}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-default-500\">套餐时长</span>\n                        <span className=\"font-medium\">\n                          {selectedPackage ? getDurationText(selectedPackage.duration) : ''}\n                        </span>\n                      </div>\n                    </div>\n                  </CardBody>\n                </Card>\n\n                {/* 支付状态 */}\n                <div className=\"text-center\">\n                  {paymentStatus === 'pending' && (\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center justify-center gap-3\">\n                        <QrCode className=\"w-6 h-6 text-primary\" />\n                        <span className=\"text-lg font-medium\">\n                          {orderInfo.pay_type === 'wxpay' ? '请使用微信扫码支付' : '请扫码支付'}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-default-500 space-y-1\">\n                        <p>二维码5分钟内有效</p>\n                        {qrCodeExpired && (\n                          <p className=\"text-danger font-medium\">二维码已过期，请重新创建订单</p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {paymentStatus === 'checking' && (\n                    <div className=\"space-y-4\">\n                      <Spinner size=\"lg\" color=\"primary\" />\n                      <p className=\"text-default-600\">正在确认支付结果...</p>\n                    </div>\n                  )}\n\n                  {paymentStatus === 'success' && (\n                    <div className=\"space-y-6\">\n                      <motion.div\n                        initial={{ scale: 0 }}\n                        animate={{ scale: 1 }}\n                        transition={{ type: \"spring\", duration: 0.6 }}\n                      >\n                        <CheckCircle className=\"w-20 h-20 mx-auto text-success\" />\n                      </motion.div>\n                      <div>\n                        <h3 className=\"text-2xl font-bold text-success mb-2\">支付成功！</h3>\n                        <p className=\"text-default-500\">页面即将刷新，请稍等...</p>\n                      </div>\n                    </div>\n                  )}\n\n                  {paymentStatus === 'failed' && (\n                    <div className=\"space-y-4\">\n                      <AlertCircle className=\"w-12 h-12 mx-auto text-danger\" />\n                      <div>\n                        <h3 className=\"text-lg font-semibold text-danger mb-2\">支付失败</h3>\n                        <p className=\"text-default-500 text-sm\">请重试或联系客服</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* 二维码 */}\n                {orderInfo.qr_code && paymentStatus === 'pending' && (\n                  <div className=\"flex justify-center\">\n                    <Card className=\"p-6 relative\">\n                      <motion.img\n                        src={generateQRCode(orderInfo.qr_code)}\n                        alt=\"支付二维码\"\n                        className={`w-48 h-48 transition-all duration-500 ${qrCodeExpired ? 'opacity-30 grayscale' : ''\n                          }`}\n                        initial={{ opacity: 0, scale: 0.8 }}\n                        animate={{ opacity: 1, scale: 1 }}\n                        transition={{ delay: 0.2 }}\n                      />\n                      {qrCodeExpired && (\n                        <motion.div\n                          className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-lg\"\n                          initial={{ opacity: 0 }}\n                          animate={{ opacity: 1 }}\n                          transition={{ duration: 0.3 }}\n                        >\n                          <Chip color=\"danger\" variant=\"solid\" className=\"shadow-lg\">\n                            已过期\n                          </Chip>\n                        </motion.div>\n                      )}\n                    </Card>\n                  </div>\n                )}\n              </div>\n            )}\n          </ModalBody>\n\n          <ModalFooter>\n            {paymentStatus !== 'success' && (\n              <Button\n                color=\"danger\"\n                variant=\"light\"\n                onPress={closePaymentModal}\n              >\n                取消支付\n              </Button>\n            )}\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </div>\n  );\n};"],"mappings":"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CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACO,KAAK,CAAGN,CAAC,CAACM,KAAK,CAAC,CAC7E,KAAM,CAAA+C,WAAW,CAAG7C,IAAI,CAAC8C,KAAK,CAACF,aAAa,CAAChD,MAAM,CAAG,CAAC,CAAC,CACxD,MAAO,CAAAgD,aAAa,CAACC,WAAW,CAAC,CACnC,CAAC,CAEDtI,SAAS,CAAC,IAAM,CACd4F,aAAa,CAAC,CAAC,CAEf,MAAO,IAAM,CACX,GAAI1C,aAAa,CAAE,CACjBgE,aAAa,CAAChE,aAAa,CAAC,CAC9B,CACA,GAAIM,WAAW,CAAE,CACfuD,YAAY,CAACvD,WAAW,CAAC,CAC3B,CACF,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE1B,KAAA,QACEgC,SAAS,CAAC,0BAA0B,CACpC0E,KAAK,CAAE,CACLC,KAAK,CAAE,MAAM,CACbC,UAAU,CAAE,SAAS,CACrBC,UAAU,CAAE,SAAS,CACrBC,QAAQ,CAAE,SAAS,CACnBC,KAAK,CAAE,SACT,CAAE,CAAAC,QAAA,eAGFlH,IAAA,UAAAkH,QAAA,CAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAAQ,CAAC,cAGVhH,KAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAAAgF,QAAA,eAC/BlH,IAAA,OAAIkC,SAAS,CAAC,yCAAyC,CAAAgF,QAAA,CAAC,0BAAI,CAAI,CAAC,cACjElH,IAAA,MAAGkC,SAAS,CAAC,mCAAmC,CAAAgF,QAAA,CAAC,wGAAiB,CAAG,CAAC,EACnE,CAAC,CAGL1G,OAAO,eACNN,KAAA,QAAKgC,SAAS,CAAC,iDAAiD,CAAAgF,QAAA,eAC9DlH,IAAA,CAACtB,OAAO,EAACyI,IAAI,CAAC,IAAI,CAACF,KAAK,CAAC,SAAS,CAAE,CAAC,cACrCjH,IAAA,MAAGkC,SAAS,CAAC,uBAAuB,CAAAgF,QAAA,CAAC,qDAAW,CAAG,CAAC,EACjD,CACN,CAGAxG,KAAK,eACJV,IAAA,QAAKkC,SAAS,CAAC,kBAAkB,CAAAgF,QAAA,cAC/BlH,IAAA,CAAC1B,IAAI,EAAA4I,QAAA,cACHhH,KAAA,CAAC3B,QAAQ,EAAC2D,SAAS,CAAC,iBAAiB,CAAAgF,QAAA,eACnClH,IAAA,CAACT,WAAW,EAAC2C,SAAS,CAAC,oCAAoC,CAAE,CAAC,cAC9DlC,IAAA,OAAIkC,SAAS,CAAC,wCAAwC,CAAAgF,QAAA,CAAC,0BAAI,CAAI,C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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
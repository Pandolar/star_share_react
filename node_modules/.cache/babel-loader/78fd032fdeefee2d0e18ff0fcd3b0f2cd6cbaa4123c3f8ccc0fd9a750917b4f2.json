{"ast":null,"code":"import { useMultiSelectListState } from \"./chunk-74XVDT4G.mjs\";\n\n// src/use-multiselect-state.ts\nimport { useMenuTriggerState } from \"@react-stately/menu\";\nimport { useFormValidationState } from \"@react-stately/form\";\nimport { useState } from \"react\";\nfunction useMultiSelectState(_ref) {\n  let {\n    validate,\n    validationBehavior,\n    ...props\n  } = _ref;\n  const [isFocused, setFocused] = useState(false);\n  const [focusStrategy, setFocusStrategy] = useState(null);\n  const triggerState = useMenuTriggerState(props);\n  const listState = useMultiSelectListState({\n    ...props,\n    onSelectionChange: keys => {\n      if (props.onSelectionChange != null) {\n        if (keys === \"all\") {\n          props.onSelectionChange(new Set(listState.collection.getKeys()));\n        } else {\n          props.onSelectionChange(keys);\n        }\n      }\n      if (props.selectionMode === \"single\") {\n        triggerState.close();\n      }\n    }\n  });\n  const validationState = useFormValidationState({\n    ...props,\n    validationBehavior,\n    validate: value => {\n      if (!validate) return;\n      const keys = Array.from(value);\n      return validate(props.selectionMode === \"single\" ? keys[0] : keys);\n    },\n    // @ts-ignore\n    value: listState.selectedKeys\n  });\n  const shouldHideContent = listState.collection.size === 0 && props.hideEmptyContent;\n  return {\n    ...validationState,\n    ...listState,\n    ...triggerState,\n    focusStrategy,\n    close() {\n      triggerState.close();\n    },\n    open() {\n      let focusStrategy2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (shouldHideContent) return;\n      setFocusStrategy(focusStrategy2);\n      triggerState.open();\n    },\n    toggle() {\n      let focusStrategy2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (shouldHideContent) return;\n      setFocusStrategy(focusStrategy2);\n      triggerState.toggle();\n    },\n    isFocused,\n    setFocused\n  };\n}\nexport { useMultiSelectState };","map":{"version":3,"names":["useMultiSelectListState","useMenuTriggerState","useFormValidationState","useState","useMultiSelectState","_ref","validate","validationBehavior","props","isFocused","setFocused","focusStrategy","setFocusStrategy","triggerState","listState","onSelectionChange","keys","Set","collection","getKeys","selectionMode","close","validationState","value","Array","from","selectedKeys","shouldHideContent","size","hideEmptyContent","open","focusStrategy2","arguments","length","undefined","toggle"],"sources":["/opt/dev/star_share/web/node_modules/.pnpm/@heroui+use-aria-multiselect@2.4.16_react-dom@19.1.0_react@19.1.0/node_modules/@heroui/use-aria-multiselect/dist/chunk-FHVPTEOP.mjs"],"sourcesContent":["import {\n  useMultiSelectListState\n} from \"./chunk-74XVDT4G.mjs\";\n\n// src/use-multiselect-state.ts\nimport { useMenuTriggerState } from \"@react-stately/menu\";\nimport { useFormValidationState } from \"@react-stately/form\";\nimport { useState } from \"react\";\nfunction useMultiSelectState({\n  validate,\n  validationBehavior,\n  ...props\n}) {\n  const [isFocused, setFocused] = useState(false);\n  const [focusStrategy, setFocusStrategy] = useState(null);\n  const triggerState = useMenuTriggerState(props);\n  const listState = useMultiSelectListState({\n    ...props,\n    onSelectionChange: (keys) => {\n      if (props.onSelectionChange != null) {\n        if (keys === \"all\") {\n          props.onSelectionChange(new Set(listState.collection.getKeys()));\n        } else {\n          props.onSelectionChange(keys);\n        }\n      }\n      if (props.selectionMode === \"single\") {\n        triggerState.close();\n      }\n    }\n  });\n  const validationState = useFormValidationState({\n    ...props,\n    validationBehavior,\n    validate: (value) => {\n      if (!validate) return;\n      const keys = Array.from(value);\n      return validate(props.selectionMode === \"single\" ? keys[0] : keys);\n    },\n    // @ts-ignore\n    value: listState.selectedKeys\n  });\n  const shouldHideContent = listState.collection.size === 0 && props.hideEmptyContent;\n  return {\n    ...validationState,\n    ...listState,\n    ...triggerState,\n    focusStrategy,\n    close() {\n      triggerState.close();\n    },\n    open(focusStrategy2 = null) {\n      if (shouldHideContent) return;\n      setFocusStrategy(focusStrategy2);\n      triggerState.open();\n    },\n    toggle(focusStrategy2 = null) {\n      if (shouldHideContent) return;\n      setFocusStrategy(focusStrategy2);\n      triggerState.toggle();\n    },\n    isFocused,\n    setFocused\n  };\n}\n\nexport {\n  useMultiSelectState\n};\n"],"mappings":"AAAA,SACEA,uBAAuB,QAClB,sBAAsB;;AAE7B;AACA,SAASC,mBAAmB,QAAQ,qBAAqB;AACzD,SAASC,sBAAsB,QAAQ,qBAAqB;AAC5D,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,mBAAmBA,CAAAC,IAAA,EAIzB;EAAA,IAJ0B;IAC3BC,QAAQ;IACRC,kBAAkB;IAClB,GAAGC;EACL,CAAC,GAAAH,IAAA;EACC,MAAM,CAACI,SAAS,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAMU,YAAY,GAAGZ,mBAAmB,CAACO,KAAK,CAAC;EAC/C,MAAMM,SAAS,GAAGd,uBAAuB,CAAC;IACxC,GAAGQ,KAAK;IACRO,iBAAiB,EAAGC,IAAI,IAAK;MAC3B,IAAIR,KAAK,CAACO,iBAAiB,IAAI,IAAI,EAAE;QACnC,IAAIC,IAAI,KAAK,KAAK,EAAE;UAClBR,KAAK,CAACO,iBAAiB,CAAC,IAAIE,GAAG,CAACH,SAAS,CAACI,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;QAClE,CAAC,MAAM;UACLX,KAAK,CAACO,iBAAiB,CAACC,IAAI,CAAC;QAC/B;MACF;MACA,IAAIR,KAAK,CAACY,aAAa,KAAK,QAAQ,EAAE;QACpCP,YAAY,CAACQ,KAAK,CAAC,CAAC;MACtB;IACF;EACF,CAAC,CAAC;EACF,MAAMC,eAAe,GAAGpB,sBAAsB,CAAC;IAC7C,GAAGM,KAAK;IACRD,kBAAkB;IAClBD,QAAQ,EAAGiB,KAAK,IAAK;MACnB,IAAI,CAACjB,QAAQ,EAAE;MACf,MAAMU,IAAI,GAAGQ,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC;MAC9B,OAAOjB,QAAQ,CAACE,KAAK,CAACY,aAAa,KAAK,QAAQ,GAAGJ,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC;IACpE,CAAC;IACD;IACAO,KAAK,EAAET,SAAS,CAACY;EACnB,CAAC,CAAC;EACF,MAAMC,iBAAiB,GAAGb,SAAS,CAACI,UAAU,CAACU,IAAI,KAAK,CAAC,IAAIpB,KAAK,CAACqB,gBAAgB;EACnF,OAAO;IACL,GAAGP,eAAe;IAClB,GAAGR,SAAS;IACZ,GAAGD,YAAY;IACfF,aAAa;IACbU,KAAKA,CAAA,EAAG;MACNR,YAAY,CAACQ,KAAK,CAAC,CAAC;IACtB,CAAC;IACDS,IAAIA,CAAA,EAAwB;MAAA,IAAvBC,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;MACxB,IAAIL,iBAAiB,EAAE;MACvBf,gBAAgB,CAACmB,cAAc,CAAC;MAChClB,YAAY,CAACiB,IAAI,CAAC,CAAC;IACrB,CAAC;IACDK,MAAMA,CAAA,EAAwB;MAAA,IAAvBJ,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;MAC1B,IAAIL,iBAAiB,EAAE;MACvBf,gBAAgB,CAACmB,cAAc,CAAC;MAChClB,YAAY,CAACsB,MAAM,CAAC,CAAC;IACvB,CAAC;IACD1B,SAAS;IACTC;EACF,CAAC;AACH;AAEA,SACEN,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
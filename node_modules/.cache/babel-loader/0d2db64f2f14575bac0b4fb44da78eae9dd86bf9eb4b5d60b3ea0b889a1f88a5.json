{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Button,Modal,ModalContent,ModalHeader,ModalBody,ModalFooter,Input,Textarea,Select,SelectItem,Chip,useDisclosure}from'@heroui/react';import{Plus,Edit,Trash2,RefreshCw,Key}from'lucide-react';import{cdkApi}from'../../services/api';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminCDK=()=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(false);const[editingRecord,setEditingRecord]=useState(null);const{isOpen,onOpen,onOpenChange}=useDisclosure();// 表单数据\nconst[formData,setFormData]=useState({code:'',package_id:'1',status:'1',expires_at:'',remarks:''});// 加载数据\nconst loadData=async()=>{setLoading(true);try{const result=await cdkApi.list({page:1,limit:50});setData(Array.isArray(result.data)?result.data:[]);}catch(error){console.error('加载数据失败:',error.message);setData([]);}finally{setLoading(false);}};useEffect(()=>{loadData();},[]);// 生成随机CDK码\nconst generateCode=()=>{const chars='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';let result='';for(let i=0;i<16;i++){if(i>0&&i%4===0)result+='-';result+=chars.charAt(Math.floor(Math.random()*chars.length));}return result;};// 新增CDK\nconst handleAdd=()=>{setEditingRecord(null);const tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+30);setFormData({code:generateCode(),package_id:'1',status:'1',expires_at:tomorrow.toISOString().split('T')[0],remarks:''});onOpen();};// 编辑CDK\nconst handleEdit=record=>{setEditingRecord(record);setFormData({code:record.code,package_id:String(record.package_id),status:String(record.status),expires_at:record.expires_at?record.expires_at.split('T')[0]:'',remarks:record.remarks||''});onOpen();};// 删除CDK\nconst handleDelete=async id=>{if(!window.confirm('确定删除这个CDK吗？'))return;try{await cdkApi.delete(id);alert('删除成功');loadData();}catch(error){alert(error.message||'删除失败');}};// 保存CDK\nconst handleSave=async()=>{try{const saveData={...formData,package_id:parseInt(formData.package_id),status:parseInt(formData.status),expires_at:formData.expires_at?new Date(formData.expires_at).toISOString():null};if(editingRecord){await cdkApi.update({...editingRecord,...saveData});alert('更新成功');}else{await cdkApi.create(saveData);alert('创建成功');}onOpenChange();loadData();}catch(error){alert(error.message||'保存失败');}};// 获取状态标签\nconst getStatusTag=(status,expiresAt)=>{if(status===0){return/*#__PURE__*/_jsx(Chip,{color:\"danger\",variant:\"flat\",size:\"sm\",children:\"\\u5DF2\\u7981\\u7528\"});}if(status===2){return/*#__PURE__*/_jsx(Chip,{color:\"success\",variant:\"flat\",size:\"sm\",children:\"\\u5DF2\\u4F7F\\u7528\"});}if(expiresAt&&new Date(expiresAt)<new Date()){return/*#__PURE__*/_jsx(Chip,{color:\"default\",variant:\"flat\",size:\"sm\",children:\"\\u5DF2\\u8FC7\\u671F\"});}return/*#__PURE__*/_jsx(Chip,{color:\"primary\",variant:\"flat\",size:\"sm\",children:\"\\u53EF\\u7528\"});};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"p-6\",children:[/*#__PURE__*/_jsxs(Card,{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"CDK\\u7BA1\\u7406\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",startContent:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),onClick:loadData,isLoading:loading,children:\"\\u5237\\u65B0\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",startContent:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),onClick:handleAdd,children:\"\\u751F\\u6210CDK\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"\\u52A0\\u8F7D\\u4E2D...\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u6682\\u65E0\\u6570\\u636E\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:data.map(cdk=>/*#__PURE__*/_jsx(Card,{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(Key,{className:\"w-8 h-8 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-lg font-medium\",children:cdk.code}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mt-1\",children:[\"\\u5957\\u9910: \",cdk.package_name||'未关联',\" \\xB7 \\u4EF7\\u683C: \\xA5\",(cdk.price||0).toFixed(2)]}),cdk.used_by_username&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400 mt-1\",children:[\"\\u4F7F\\u7528\\u8005: \",cdk.used_by_username,\" \\xB7 \\u4F7F\\u7528\\u65F6\\u95F4: \",cdk.used_at?new Date(cdk.used_at).toLocaleDateString():'-']}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400 mt-1\",children:[\"\\u8FC7\\u671F\\u65F6\\u95F4: \",cdk.expires_at?new Date(cdk.expires_at).toLocaleDateString():'-']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[cdk.category&&/*#__PURE__*/_jsx(Chip,{color:\"secondary\",variant:\"flat\",size:\"sm\",children:cdk.category}),getStatusTag(cdk.status,cdk.expires_at),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"flat\",isIconOnly:true,onClick:()=>handleEdit(cdk),children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"flat\",color:\"danger\",isIconOnly:true,onClick:()=>handleDelete(cdk.id),children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]})]})},cdk.id))})})]}),/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onOpenChange:onOpenChange,size:\"2xl\",children:/*#__PURE__*/_jsx(ModalContent,{children:onClose=>/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:editingRecord?'编辑CDK':'生成CDK'}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Input,{label:\"CDK\\u7801\",placeholder:\"\\u8BF7\\u8F93\\u5165CDK\\u7801\",value:formData.code,onChange:e=>setFormData({...formData,code:e.target.value}),isRequired:true,className:\"flex-1\"}),/*#__PURE__*/_jsx(Button,{variant:\"flat\",onClick:()=>setFormData({...formData,code:generateCode()}),className:\"mt-6\",children:\"\\u91CD\\u65B0\\u751F\\u6210\"})]}),/*#__PURE__*/_jsxs(Select,{label:\"\\u5173\\u8054\\u5957\\u9910\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u5173\\u8054\\u5957\\u9910\",selectedKeys:[formData.package_id],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,package_id:value});},children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4E2A\\u4EBA\\u5957\\u9910 - \\u6708\\u5361\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u4F01\\u4E1A\\u5957\\u9910 - \\u5E74\\u5361\"},\"2\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u9AD8\\u7EA7\\u5957\\u9910 - \\u5B63\\u5361\"},\"3\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Select,{label:\"\\u72B6\\u6001\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u72B6\\u6001\",selectedKeys:[formData.status],onSelectionChange:keys=>{const value=Array.from(keys)[0];setFormData({...formData,status:value});},children:[/*#__PURE__*/_jsx(SelectItem,{children:\"\\u53EF\\u7528\"},\"1\"),/*#__PURE__*/_jsx(SelectItem,{children:\"\\u7981\\u7528\"},\"0\")]}),/*#__PURE__*/_jsx(Input,{label:\"\\u8FC7\\u671F\\u65F6\\u95F4\",placeholder:\"\\u8BF7\\u9009\\u62E9\\u8FC7\\u671F\\u65F6\\u95F4\",type:\"date\",value:formData.expires_at,onChange:e=>setFormData({...formData,expires_at:e.target.value}),isRequired:true})]}),/*#__PURE__*/_jsx(Textarea,{label:\"\\u5907\\u6CE8\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\",value:formData.remarks,onChange:e=>setFormData({...formData,remarks:e.target.value}),maxRows:3})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{variant:\"flat\",onPress:onClose,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onPress:()=>{handleSave();onClose();},children:\"\\u4FDD\\u5B58\"})]})]})})})]});};export default AdminCDK;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","Modal","ModalContent","ModalHeader","ModalBody","ModalFooter","Input","Textarea","Select","SelectItem","Chip","useDisclosure","Plus","Edit","Trash2","RefreshCw","Key","cdkApi","motion","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminCDK","data","setData","loading","setLoading","editingRecord","setEditingRecord","isOpen","onOpen","onOpenChange","formData","setFormData","code","package_id","status","expires_at","remarks","loadData","result","list","page","limit","Array","isArray","error","console","message","generateCode","chars","i","charAt","Math","floor","random","length","handleAdd","tomorrow","Date","setDate","getDate","toISOString","split","handleEdit","record","String","handleDelete","id","window","confirm","delete","alert","handleSave","saveData","parseInt","update","create","getStatusTag","expiresAt","color","variant","size","children","div","initial","opacity","y","animate","transition","duration","className","startContent","onClick","isLoading","map","cdk","package_name","price","toFixed","used_by_username","used_at","toLocaleDateString","category","isIconOnly","onClose","label","placeholder","value","onChange","e","target","isRequired","selectedKeys","onSelectionChange","keys","from","type","maxRows","onPress"],"sources":["/opt/dev/star_share/web/src/pages/admin/AdminCDK.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  Card, \n  Button, \n  Modal, \n  ModalContent, \n  ModalHeader, \n  ModalBody, \n  ModalFooter,\n  Input,\n  Textarea,\n  Select,\n  SelectItem,\n  Chip,\n  useDisclosure\n} from '@heroui/react';\nimport { Plus, Edit, Trash2, RefreshCw, Key } from 'lucide-react';\nimport { cdkApi } from '../../services/api';\nimport { motion } from 'framer-motion';\n\ninterface CDK {\n  id: number;\n  code: string;\n  package_id: number;\n  package_name?: string;\n  category?: string;\n  price?: number;\n  duration?: number;\n  status: number;\n  used_by?: number;\n  used_by_username?: string;\n  used_at?: string;\n  created_at?: string;\n  expires_at?: string;\n  remarks?: string;\n}\n\nconst AdminCDK: React.FC = () => {\n  const [data, setData] = useState<CDK[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [editingRecord, setEditingRecord] = useState<CDK | null>(null);\n  const { isOpen, onOpen, onOpenChange } = useDisclosure();\n\n  // 表单数据\n  const [formData, setFormData] = useState({\n    code: '',\n    package_id: '1',\n    status: '1',\n    expires_at: '',\n    remarks: ''\n  });\n\n  // 加载数据\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const result = await cdkApi.list({\n        page: 1,\n        limit: 50,\n      });\n      \n      setData(Array.isArray(result.data) ? result.data : []);\n    } catch (error: any) {\n      console.error('加载数据失败:', error.message);\n      setData([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // 生成随机CDK码\n  const generateCode = () => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    let result = '';\n    for (let i = 0; i < 16; i++) {\n      if (i > 0 && i % 4 === 0) result += '-';\n      result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return result;\n  };\n\n  // 新增CDK\n  const handleAdd = () => {\n    setEditingRecord(null);\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 30);\n    \n    setFormData({\n      code: generateCode(),\n      package_id: '1',\n      status: '1',\n      expires_at: tomorrow.toISOString().split('T')[0],\n      remarks: ''\n    });\n    onOpen();\n  };\n\n  // 编辑CDK\n  const handleEdit = (record: CDK) => {\n    setEditingRecord(record);\n    setFormData({\n      code: record.code,\n      package_id: String(record.package_id),\n      status: String(record.status),\n      expires_at: record.expires_at ? record.expires_at.split('T')[0] : '',\n      remarks: record.remarks || ''\n    });\n    onOpen();\n  };\n\n  // 删除CDK\n  const handleDelete = async (id: number) => {\n    if (!window.confirm('确定删除这个CDK吗？')) return;\n    \n    try {\n      await cdkApi.delete(id);\n      alert('删除成功');\n      loadData();\n    } catch (error: any) {\n      alert(error.message || '删除失败');\n    }\n  };\n\n  // 保存CDK\n  const handleSave = async () => {\n    try {\n      const saveData = {\n        ...formData,\n        package_id: parseInt(formData.package_id),\n        status: parseInt(formData.status),\n        expires_at: formData.expires_at ? new Date(formData.expires_at).toISOString() : null\n      };\n\n      if (editingRecord) {\n        await cdkApi.update({ ...editingRecord, ...saveData });\n        alert('更新成功');\n      } else {\n        await cdkApi.create(saveData);\n        alert('创建成功');\n      }\n      \n      onOpenChange();\n      loadData();\n    } catch (error: any) {\n      alert(error.message || '保存失败');\n    }\n  };\n\n  // 获取状态标签\n  const getStatusTag = (status: number, expiresAt?: string) => {\n    if (status === 0) {\n      return <Chip color=\"danger\" variant=\"flat\" size=\"sm\">已禁用</Chip>;\n    }\n    \n    if (status === 2) {\n      return <Chip color=\"success\" variant=\"flat\" size=\"sm\">已使用</Chip>;\n    }\n    \n    if (expiresAt && new Date(expiresAt) < new Date()) {\n      return <Chip color=\"default\" variant=\"flat\" size=\"sm\">已过期</Chip>;\n    }\n    \n    return <Chip color=\"primary\" variant=\"flat\" size=\"sm\">可用</Chip>;\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className=\"p-6\"\n    >\n      <Card className=\"w-full\">\n        {/* 页面标题 */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold\">CDK管理</h2>\n          <div className=\"flex gap-2\">\n            <Button\n              variant=\"flat\"\n              startContent={<RefreshCw className=\"w-4 h-4\" />}\n              onClick={loadData}\n              isLoading={loading}\n            >\n              刷新\n            </Button>\n            <Button\n              color=\"primary\"\n              startContent={<Plus className=\"w-4 h-4\" />}\n              onClick={handleAdd}\n            >\n              生成CDK\n            </Button>\n          </div>\n        </div>\n\n        {/* 简化的数据展示 */}\n        <div className=\"space-y-4\">\n          {loading ? (\n            <div className=\"text-center py-8\">加载中...</div>\n          ) : data.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">暂无数据</div>\n          ) : (\n            <div className=\"grid gap-4\">\n              {data.map((cdk) => (\n                <Card key={cdk.id} className=\"p-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-4\">\n                      <Key className=\"w-8 h-8 text-blue-500\" />\n                      <div>\n                        <div className=\"font-mono text-lg font-medium\">{cdk.code}</div>\n                        <div className=\"text-sm text-gray-500 mt-1\">\n                          套餐: {cdk.package_name || '未关联'} · 价格: ¥{(cdk.price || 0).toFixed(2)}\n                        </div>\n                        {cdk.used_by_username && (\n                          <div className=\"text-sm text-gray-400 mt-1\">\n                            使用者: {cdk.used_by_username} · 使用时间: {cdk.used_at ? new Date(cdk.used_at).toLocaleDateString() : '-'}\n                          </div>\n                        )}\n                        <div className=\"text-sm text-gray-400 mt-1\">\n                          过期时间: {cdk.expires_at ? new Date(cdk.expires_at).toLocaleDateString() : '-'}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      {cdk.category && (\n                        <Chip color=\"secondary\" variant=\"flat\" size=\"sm\">\n                          {cdk.category}\n                        </Chip>\n                      )}\n                      {getStatusTag(cdk.status, cdk.expires_at)}\n                      <div className=\"flex gap-2\">\n                        <Button\n                          size=\"sm\"\n                          variant=\"flat\"\n                          isIconOnly\n                          onClick={() => handleEdit(cdk)}\n                        >\n                          <Edit className=\"w-4 h-4\" />\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"flat\"\n                          color=\"danger\"\n                          isIconOnly\n                          onClick={() => handleDelete(cdk.id)}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n      </Card>\n\n      {/* 编辑/新增模态框 */}\n      <Modal isOpen={isOpen} onOpenChange={onOpenChange} size=\"2xl\">\n        <ModalContent>\n          {(onClose) => (\n            <>\n              <ModalHeader>\n                {editingRecord ? '编辑CDK' : '生成CDK'}\n              </ModalHeader>\n              <ModalBody>\n                <div className=\"space-y-4\">\n                  <div className=\"flex gap-2\">\n                    <Input\n                      label=\"CDK码\"\n                      placeholder=\"请输入CDK码\"\n                      value={formData.code}\n                      onChange={(e) => setFormData({...formData, code: e.target.value})}\n                      isRequired\n                      className=\"flex-1\"\n                    />\n                    <Button\n                      variant=\"flat\"\n                      onClick={() => setFormData({...formData, code: generateCode()})}\n                      className=\"mt-6\"\n                    >\n                      重新生成\n                    </Button>\n                  </div>\n                  \n                  <Select\n                    label=\"关联套餐\"\n                    placeholder=\"请选择关联套餐\"\n                    selectedKeys={[formData.package_id]}\n                    onSelectionChange={(keys) => {\n                      const value = Array.from(keys)[0] as string;\n                      setFormData({...formData, package_id: value});\n                    }}\n                  >\n                    <SelectItem key=\"1\">个人套餐 - 月卡</SelectItem>\n                    <SelectItem key=\"2\">企业套餐 - 年卡</SelectItem>\n                    <SelectItem key=\"3\">高级套餐 - 季卡</SelectItem>\n                  </Select>\n                  \n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <Select\n                      label=\"状态\"\n                      placeholder=\"请选择状态\"\n                      selectedKeys={[formData.status]}\n                      onSelectionChange={(keys) => {\n                        const value = Array.from(keys)[0] as string;\n                        setFormData({...formData, status: value});\n                      }}\n                    >\n                      <SelectItem key=\"1\">可用</SelectItem>\n                      <SelectItem key=\"0\">禁用</SelectItem>\n                    </Select>\n                    \n                    <Input\n                      label=\"过期时间\"\n                      placeholder=\"请选择过期时间\"\n                      type=\"date\"\n                      value={formData.expires_at}\n                      onChange={(e) => setFormData({...formData, expires_at: e.target.value})}\n                      isRequired\n                    />\n                  </div>\n                  \n                  <Textarea\n                    label=\"备注\"\n                    placeholder=\"请输入备注\"\n                    value={formData.remarks}\n                    onChange={(e) => setFormData({...formData, remarks: e.target.value})}\n                    maxRows={3}\n                  />\n                </div>\n              </ModalBody>\n              <ModalFooter>\n                <Button variant=\"flat\" onPress={onClose}>\n                  取消\n                </Button>\n                <Button color=\"primary\" onPress={() => { handleSave(); onClose(); }}>\n                  保存\n                </Button>\n              </ModalFooter>\n            </>\n          )}\n        </ModalContent>\n      </Modal>\n    </motion.div>\n  );\n};\n\nexport default AdminCDK;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}